## ARGOMENTI:
- esempi di cpu
- esempi di bus
- interfacce
il troughput può essere una unità di misura per capire quanto è veloce il processore
e può misurare ogni componente che svolge la funzione nella pipeline


## ESEMPI DI CPU:
- Pentium 4
	- 3.2 Ghz
	- 90nm
	- può accedere a memorie a 64 bit ma i programmatori ci programmano sopra a 32 bit
	- ha 3 livelli di cache
		1. 8kb di SRAM
		2. fino a 1mb
		3. da 2 MB 
	- Visto che ha due CPU potrebbe accadere un problema, se una modifica una parola nella sua cache locale, l'altra CPU avrà una versione vecchia della parola. perciò avviene il processo di monitoraggio detto snooping che permette alla CPU di tenere traccia delle modifiche che ha fatto, quindi quando un'altra CPU entra nel bus della memoria cercando qualcosa che ha già modificato l'altra CPU essa procede a inviarglielo aggiornato.
	- pipeline più profonda
	- due unità ALU che che operano al doppio della frequenza di clock
	- il problema delle CPU è che ciucciano troppa energia, perciò intel ha trovato un modo per metterle in idle e farle consumare meno energia.
		- questa tecnologia divide il funzionamento della cpu in 5 livelli da attivo a sonno profondo, più vai verso il livello di sonno profondo più perdi funzionalità come lo snooping e l'interrupt handling, quando la CPU va in sonno profondo rimangono attivi solo il registro e la cache e la CPU attende un interrupt hardware per risvegliarsi
##### Pin e segnali del Pentium4
La cpu ha diversi pin(478) e sono spartiti a seconda di diversi compiti:
- alcuni per i segnali di I/O, wait, interrupt...
- altri per l'alimentazione a diversi voltaggi
- altri ancora per la massa
- e la intel si lascia qualche pin libero per un uso futuro
#### I PIN DEL PENTIUM 4
##### ARBITRO DEL BUS
- BPRI# bus priority request 
- BR0# bus request
- LOCK# la CPU chiede all'arbitro del bus per bloccarla e permetterne l'utilizzo solo della CPU
#### PIN DI RICHIESTA
Segnali scambiati con l'address bus e il bus di controllo
- A# trasferimento di bit di indirizzamento ha 36 bit di indirizzamento di cui 3 impostati a 0
- ADS# Si asserisce se l'indirizzo inserito sul bus è valido
- REQ# Specifica l'operazione di lettura o scrittura

#### PIN DI ERRORI
- MISC è un segnale di errore generico che serve per segnalare se c'è un errore

##### PIN DI RISPOSTA
Sono dei pin che usa il bus slave per comunicare con il bus master
- RS# contiene il codice di stato, ovvero un codice che ti dà lo stato corrente della CPU o del processo che sta eseguento
- TRDY# indica che lo slave è pronto ad accettare dati dal master
- BNR# asserisce uno stato di attesa quando il dispositivo indirizzato non può rispondere

#### PIN DI DATI
È utilizzato per il trasferimento di dati 
- D# trasferisce 8 byte nel bus 
- DRDY# si asserisce quando D sta per trasferire i dati, così che tutti gli altri componenti sono informati della cosa
- DBSY#  viene usato per comunicare a tutti i dispositivi che il bus è occupato

##### IL PIN DI RESET'#'
- Viene usato per resettare la CPU in caso di problemi
>[!question]- differenza tra bus di controllo e arbitro del bus
>l'arbitro del bus si limita a gestire il traffico
>il bus di controllo invece gestisce tutto ciò che riguarda le operazioni che svolge il bus come l'invio o il ricevimento di dati, gestione degli indirizzi ecc..


![[Pasted image 20240411212614.png]]
### Pipeline nel Pentium 4
Le CPU sono più veloci delle memorie centrali basate su DRAM e per questo è essenziale ottimizzare la pipeline per ottenere il massimo troughput dalla memoria per evitare attese della CPU
>[!info]- troughput :
>(quantità di istruzioni in un determinato tempo) 

Per consentire l’uso della pipeline, le richieste di memoria del Pentium 4, chiamate transazioni, sono composte da sei stadi.

1. Fase di arbitraggio del bus;

2. Fase di richiesta;

3. Fase di segnalazione dell’errore;

4. Fase di investigazione (snoop);

5. Fase di risposta;

6. Fase dei dati.

![[Pasted image 20240411222730.png]]

### Intel Core I7
- 64 bit
- 4 core
- 45 nm
- 3,2 GHz
- Hyperthreaded ovvero più thread simultanei, quindi più spezzettamenti di una singola istruzione che lavorano in parallelo
- Ha 3 livelli di cache e lo snooping
![[Pasted image 20240412113510.png]]
#### UltraSPARC 3
- linea di processori RISC usata per server e workstation
- 130 nm 1,2 GHz
- due CPU CISC e RISC non si possono confrontare tra loro
- La CPU poteva eseguire 4 istruzioni per ciclo di clock e aveva:
	- 6 pipeline interne:
		- 2 a 14- stadi per operazioni su numeri interi
		- 2 per operazioni a virgola mobile
		- 1 per operazioni di LOAD e STORE
		- 1 salti e branch del programma

### Micro controllore 8051
**importante per gli esercizi sugli indirizzimenti e l'I/O**
a pagina 73
È uno dei microcontrollori più diffusi, il microcontrollore è un apparato per svolgere compiti specifici programmabili e più economici di una normale CPU
- 40 pin con 16-bit di address può indirizzare fino a 64KB di meoria, 8-bit per il bus dati
- ha 32 linee di I/O divise in 4 gruppi di 8 bit ciascuno
- i primi 7 a sinistra sono usati per interfacciarsi a memorie esterne
	- la A viene usata per l' indirizzamento alla memoria esterna
	- la D è un pin dati a 8-bit per il trasporto dati
	- $\overline{RD}$ si asserisce per indicare che deve fare una lettura
	- $\overline{WR}$ si asserisce per indicare che deve fare una scrittura con la memoria esterna
	- ALE indica la presenza di un indirizzo valido sul bus
	- $\overline{PSEN}$ (Program Store Enable):si attiva quando viene usata una memoria esterna
	- $\overline{EA}$ (External Access)può essere collegato:
	- high usa sia la memoria interna che quella esterna
	- low: usare solo quella esterna
- due cicli di clock esterni
-  due priorità di interrupt diverse
- linee di I/O: 
	- TXD usato per l'uscita seriale(uscita sequenziale)
	- RXD ricevere il segnale in modo sequenziale
	- ci sono anche 4 porte seriali sia di I/O bidirezionali ciascuna con 8- bit paralleli
- RST serve per resettare il chip
![[Pasted image 20240412115302.png]]
### PIO intel 8255A
pag.83
è un chip che controlla la I/O in parallelo
abbiamo un chip cs è 