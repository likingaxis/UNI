>[!tip]- lista argomenti
>- Pila protocollare
>- Livello di applicazione
>	- Architetture del livello di applicazione
>		- Peer to peer
>			- tit for tat
>			- torrent
>			- chunk
>		- Client Server
>	- Socket cosa sono
>	- Protocolli di applicazione 
>		- HTTP 
>		- cosa è
>			- Datagramma
>			- v1
>			- v2
>			- v3
>		- Biscottini
>		- DNS
>			- SERVER DNS
>			- iterativa
>			- ricorsiva
>		- Email
>			- User agent
>			- Server mail
>			- SMTP
>			- IMAP
>		- Web Cache
>		- RTT

### Generici
- **definizione di internet**
	- <font color="#f79646">Infrastruttura</font> composta da un insieme di reti interconnesse tra loro
- **Host**
	- ospitano le applicazioni di rete
	- si trovano ai bordi di internet
	- comunicano attraverso pacchetti di dati
	- inoltrati da altri dispositivi come router e switch
- **ISP**
	- organizzazioni che offrono l'accesso a internet a utenti o varie aziende
	- sono interconnessi tra loro per garantire il corretto funzionamento della rete
	- se locali sono nei margini della rete
	- se globali sono nel nucleo della rete
- **Commutazione di una rete**
	- Tecniche di scambio di pacchetti seguendo determinate regole
	- Commutazione di pacchetto
		- Il singolo messaggio viene diviso in pacchetti di L bit
		- viene inviato il singolo pacchetto senza flussi di bit
	- Commutazione di circuito
		- viene dedicato un collegamento tra mittente e destinatario e vengono inviati i bit in sequenza
- **Lan o Wan**
	- Local Area Network
	- Wide Area Network
- **Nucleo di rete**
	- È un insieme di commutatori di pacchetti e link tra i vari host che sono poi collegate alle varie periferie di rete
	- gli utenti non ci accedono direttamente
	- azioni:
		- inoltro
			- attraverso una tabella di inoltro, invia i pacchetti a una determinata interfaccia
		- instradamento
			- indica il percorso che viene fatto da una serie di router per arrivare a destinazione da una radice
			- fatto attraverso algoritmi
	- viene calcolato instradamento e poi inoltro
![[Pasted image 20250705102609.png]]
- **sicurezza di internet**
	- una interfaccia di rete, quindi collegata alla rete
		- può vedere tutti i pacchetti che ci passano
		- wireshark
	- ip spoofing
		- fingo di avere un'altro indirizzo IP nella rete
- **protocolli**
	- insieme di regole che definiscono i metodi per la comunicazione tra dispositivi nella rete
- **Divisione in livelli della TCP/IP pila protocollare**
	- *Applicazione*
		- supporto alle applicazioni di rete con protocolli come HTTP che inviano <font color="#f79646">messaggi</font>
	- *Trasporto*
		- Trasferimento di <font color="#f79646">segmenti</font> tra processi come UDP e TCP
	- *Rete*
		- trasporto di <font color="#f79646">datagrammi</font>, pacchetti di rete tra host con indirizzo IP e protocolli IP
	- *Collegamento*
		- Trasferimento di <font color="#f79646">frame</font> tra dispositivi vicini
	- *Fisico*
		- Trasferimento di bit veri e propri su link
- **incapsulamento dei dati tra i vari livelli**
![[Pasted image 20250705103837.png]]




### Livello di applicazione
- **definizione**
	- È un livello nella pila protocollare
	- interagisce con l'utente o con le applicazioni di rete
		- fornendo i servizi di rete ad essi
- **architetture**
	- client server chi sono?
		- sono due attori detti host all'interno della rete che comunicano tra loro scambiandosi messaggi
		- server
			- deve essere sempre attivo e deve rispondere alle richieste degli host
			- indirizzo IP noto dai client 
		- client
			- comunica con i server inviando richieste 
	- peer-to-peer
		- architettura che prevede un insieme di host che fanno sia da client che da server, sono detti peer
			- ogni peer condivide i file che ha già scaricato ai peer candidati più vicini
			- utilizza determinate tecniche per ottimizzare lo scambio tra peer
		- *torrent*
			- file che ha tracker dei i vari peer
		- peer-to-peer vs client server
			- Client server
				- lineare senza variazioni
			- peer-to-peer
				- dipende da il numero di utenti che condividono i dati e che li scaricano
		- *tit for tat*
			- tecnica di ottimizzazione del peer-to-peer
			- in un intervallo di secondi vengono ogni volta definiti i peer che sono destinati a scambiare i chunk
				- ogni tanto ne viene scelto uno a caso per vedere se era candidato e utile
- **processi**
	- sono un programma in esecuzione su un host
		- accedono alla rete tramite il livello di trasporto
		- ma per comunicare con il livello di applicazione dove abbiamo le varie applicazione di rete vengono usate le socket
			- sono interfacce software, permettono di comunicare con i processi che lavorano al livello di trasporto, quindi fanno da tramite con il livello di applicazione
			- sono identificate da una coppia formata da
				- *IP*
					- identifica l'host
				- *Porta*
					- identifica l'applicazione 
					- alcune porte sono già standardizzate per alcune applicazioni
![[Pasted image 20250318133006.png|400]]

- **protocollo del livello di applicazione**
	- si dividono in 2 tipi
		- proprietari
			- non sono noti e vengono usate da applicazioni private tipo skype
		- pubblici
			- sono noti e standardizzati tipo HTTP
	- vertono su
		- sicurezza
			- i livelli di trasporto non garantiscono chissà che sicurezza ma quelli di applicazione la possono migliorare con cifrature tipo TLS
		- troughput minimo garantito
		- perdita di messaggi
		- sensibilità al fattore tempo
	- applicazioni che usano protocolli di trasporto
		- HTTP usa TCP
		- SMTP usa TCP
		- Giochi interattivi TCP e UDP
		- VoIP usa UDP
- **HTTP**
	- alla base delle applicazioni web
		- sfrutta il paradigma client server
		- presente sulla porta 80
		- consente lo scambio di messaggi di richiesta HTTP 
		- vengono scambiare risorse 
	- passaggi che compongono una richiesta HTTP
		- il client tenta di aprire una connessione TCP al server sulla porta 80, creando una socket, successivamente il server la riceve e accetta o meno la connessione, il client invia una richiesta HTTP al server, il server fornisce la risorsa, viene chiusa la connessione TCP
	- MESSAGGIO HTTP
		- è composto da
			- riga di richiesta
				- versione HTTP, URL richiesto, metodo HTTP usato(get put...)
			- intestazione
				- informazioni riguardo chi effettua la richiesta, formato, se ci sono cookie o meno ecc...
			- corpo del messaggio
				- contiene i dati inviati dal server
	- Metodi HTTP
		- POST
		- GET
		- HEAD
		- PUT
	- Versioni a grandi linee
		- 1.0
			- ogni connessione creata TCP era uno scambio di un solo messaggio
			- non persistenti, quindi la connessione termina, gli altri sono persistenti
		- 1.1
			- consentiva di fare GET multiple di dati con politica FIFO
		- 2.0
			- senza richieste venivano inviati più messaggi ma con priorità non FIFO
			- i messaggi venivano inviati alternati tra loro divisi in frame, invio interlacciato
		- 3.0
			- usa UDP con QUIC al livello di applicazione per gestire problemi di sicurezza e perdita dei messaggi
![[Pasted image 20250318183006.png|400]]

- **RTT**
	- tempo che impiega un pacchetto per andare dal client al server e dal server al client
	- variabile in base a eventuali congestioni ecc...
![[Pasted image 20250318151455.png]]

- **Codici di stato**
	- per ogni errore esiste un codice di stato che si trova nell'intestazione dei messaggi
	- 1xx messaggi informativi,
	- 2xx successo, 
	- 3xx risorsa spostata, 
	- 4xx errore, 
	- 5xx errore server
- **I cookie**
	- il protocollo HTTP è stateless, quindi login non funzionano ad esempio
	- per salvare eventuali client vengono o salvati gli stati in memoria sui due dispositivi client e server oppure si usano i cookie
		- i cookie sono codici identificativi per client
		- i cookie dopo la prima connessione effettuata vengono scambiati nell'header delle richieste HTTP
		- essi vengono salvati in un database dei server e vengono forniti al client, il client salverà il proprio cookie ad esempio nel browser
![[Pasted image 20250318185425.png|300]]

- **Web Cache**
	- intermediario tra client e server
	- se ha già una risorsa di una eventuale richiesta HTTP la fornisce senza interpellare il server effettivo
	- ogni risorsa ha un TTL time to live
	- può essere locale, interna al host client oppure un server come i proxy che fanno da client
	- vengono usate per migliorare l'efficienza dei server e evitare congestioni
![[Pasted image 20250318192553.png|400]]

- **Posta elettronica**
	- applicazione che simula lo scambio di lettere attraverso user agent e mail server
		- tra server di posta avviene uno scambio attraverso SMTP
		- uno user agent per inviare una mail la invia al suo server mail attraverso il protocollo SMTP, a sua volta questo server lo invia al server mail del destinatario attraverso il protocollo SMTP, per prelevare le mail viene usato IMAP dallo user agent
		- perché SMTP non può fare pull
	- passaggi SMTP
		- usa il protocollo TCP
			- effettua prima di tutto il TCP handshake con la richiesta TCP che viene accettata
			- successivamente viene effettuato un handshake SMTP per presentare le due parti
			- viene inviato il messaggio, come corpo ha il contenuto della mail
	- HTTP VS SMTP
		- HTTP è di tipo pull, il client riceve dei dati solo se li richiede
		- SMTP è di tipo push, il client riceve dei dati anche se non li richiede(server mail del destinatario)
![[Pasted image 20250321183245.png|500]]

- **DNS**
	- Servizio di rete decentralizzato(con più server) che consente la conversione di indirizzi URL in IP attraverso un Database 
	- Ci sono 3 server noti di tipo DNS
		- root
			- indirizza a quale server TLD riferirsi
		- Top Level Domain
			- forniscono la parte finale dei domini e rimandano a quelli autoritativi che sono meno generici, hanno solo .com ecc...
		- Autoritativi
			- Server DNS che contengono indirizzi IP completi richiesti
	- richiesta DNS può essere
		- ricorsiva
			- i server DNS a partire da quello locale si risolvono da soli interrogandosi a vicenda
		- iterativa
			- il server DNS locale interroga i vari Server DNS personalmente
![[Pasted image 20250321190924.png]]
![[Pasted image 20250321192921.png]]

- **URL**
	- indirizzo che contiene sito di riferimento che poi dovrà essere convertito in IP
	- risorse di riferimento richieste dopo lo /
- **streaming video**
	- streaming invio di sequenze di dati che vengono riprodotte
	- sequenza di immagini codificate per ottimizzare il peso
	- bitrate
		- unità di misura che indica quanti bit vengono trasmessi al secondo
		- fisso o variabile
	- viene usato TCP per evitare perdite
		- con HTTP può essere scelta la qualità scegliendo la determinata risorsa
	- CDN
		- server nel mondo che hanno stessi contenuti video per rispondere alle eccessive richieste
