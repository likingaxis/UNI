<!DOCTYPE html>
<html lang="en" dir="ltr"><head><title>RETI LEZ.12</title><meta charset="utf-8"/><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com"/><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Schibsted Grotesk:wght@400;700&amp;family=Source Sans Pro:ital,wght@0,400;0,600;1,400;1,600&amp;family=IBM Plex Mono:wght@400;600&amp;display=swap"/><link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin="anonymous"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="og:site_name" content="Quartz 4"/><meta property="og:title" content="RETI LEZ.12"/><meta property="og:type" content="website"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="RETI LEZ.12"/><meta name="twitter:description" content="🧭 Cosa fa il livello di rete? Il livello di rete si occupa di trasportare i segmenti (ossia i dati provenienti dal livello di trasporto, come TCP/UDP) da un host mittente a un host destinatario."/><meta property="og:description" content="🧭 Cosa fa il livello di rete? Il livello di rete si occupa di trasportare i segmenti (ossia i dati provenienti dal livello di trasporto, come TCP/UDP) da un host mittente a un host destinatario."/><meta property="og:image:alt" content="🧭 Cosa fa il livello di rete? Il livello di rete si occupa di trasportare i segmenti (ossia i dati provenienti dal livello di trasporto, come TCP/UDP) da un host mittente a un host destinatario."/><meta property="twitter:domain" content="quartz.jzhao.xyz"/><meta property="og:url" content="https://quartz.jzhao.xyz/UNI/ANNO-2/RETI/RETI-LEZ.12"/><meta property="twitter:url" content="https://quartz.jzhao.xyz/UNI/ANNO-2/RETI/RETI-LEZ.12"/><link rel="icon" href="../../../static/icon.png"/><meta name="description" content="🧭 Cosa fa il livello di rete? Il livello di rete si occupa di trasportare i segmenti (ossia i dati provenienti dal livello di trasporto, come TCP/UDP) da un host mittente a un host destinatario."/><meta name="generator" content="Quartz"/><link href="../../../index.css" rel="stylesheet" type="text/css" spa-preserve/><style>.expand-button {
  position: absolute;
  display: flex;
  float: right;
  padding: 0.4rem;
  margin: 0.3rem;
  right: 0;
  color: var(--gray);
  border-color: var(--dark);
  background-color: var(--light);
  border: 1px solid;
  border-radius: 5px;
  opacity: 0;
  transition: 0.2s;
}
.expand-button > svg {
  fill: var(--light);
  filter: contrast(0.3);
}
.expand-button:hover {
  cursor: pointer;
  border-color: var(--secondary);
}
.expand-button:focus {
  outline: 0;
}

pre:hover > .expand-button {
  opacity: 1;
  transition: 0.2s;
}

#mermaid-container {
  position: fixed;
  contain: layout;
  z-index: 999;
  left: 0;
  top: 0;
  width: 100vw;
  height: 100vh;
  overflow: hidden;
  display: none;
  backdrop-filter: blur(4px);
  background: rgba(0, 0, 0, 0.5);
}
#mermaid-container.active {
  display: inline-block;
}
#mermaid-container > #mermaid-space {
  border: 1px solid var(--lightgray);
  background-color: var(--light);
  border-radius: 5px;
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  height: 80vh;
  width: 80vw;
  overflow: hidden;
}
#mermaid-container > #mermaid-space > .mermaid-content {
  padding: 2rem;
  position: relative;
  transform-origin: 0 0;
  transition: transform 0.1s ease;
  overflow: visible;
  min-height: 200px;
  min-width: 200px;
}
#mermaid-container > #mermaid-space > .mermaid-content pre {
  margin: 0;
  border: none;
}
#mermaid-container > #mermaid-space > .mermaid-content svg {
  max-width: none;
  height: auto;
}
#mermaid-container > #mermaid-space > .mermaid-controls {
  position: absolute;
  bottom: 20px;
  right: 20px;
  display: flex;
  gap: 8px;
  padding: 8px;
  background: var(--light);
  border: 1px solid var(--lightgray);
  border-radius: 6px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  z-index: 2;
}
#mermaid-container > #mermaid-space > .mermaid-controls .mermaid-control-button {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 32px;
  height: 32px;
  padding: 0;
  border: 1px solid var(--lightgray);
  background: var(--light);
  color: var(--dark);
  border-radius: 4px;
  cursor: pointer;
  font-size: 16px;
  font-family: var(--bodyFont);
  transition: all 0.2s ease;
}
#mermaid-container > #mermaid-space > .mermaid-controls .mermaid-control-button:hover {
  background: var(--lightgray);
}
#mermaid-container > #mermaid-space > .mermaid-controls .mermaid-control-button:active {
  transform: translateY(1px);
}
#mermaid-container > #mermaid-space > .mermaid-controls .mermaid-control-button:nth-child(2) {
  width: auto;
  padding: 0 12px;
  font-size: 14px;
}
/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxMdWNhXFxEZXNrdG9wXFxVTkkgTlVPVk9cXHF1YXJ0elxccXVhcnR6XFxjb21wb25lbnRzXFxzdHlsZXMiLCJzb3VyY2VzIjpbIm1lcm1haWQuaW5saW5lLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTs7QUFFQTtFQUNFO0VBQ0E7O0FBR0Y7RUFDRTtFQUNBOztBQUdGO0VBQ0U7OztBQUtGO0VBQ0U7RUFDQTs7O0FBSUo7RUFDRTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBOztBQUVBO0VBQ0U7O0FBR0Y7RUFDRTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTs7QUFFQTtFQUNFO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBOztBQUVBO0VBQ0U7RUFDQTs7QUFHRjtFQUNFO0VBQ0E7O0FBSUo7RUFDRTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBOztBQUVBO0VBQ0U7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTs7QUFFQTtFQUNFOztBQUdGO0VBQ0U7O0FBSUY7RUFDRTtFQUNBO0VBQ0EiLCJzb3VyY2VzQ29udGVudCI6WyIuZXhwYW5kLWJ1dHRvbiB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxvYXQ6IHJpZ2h0O1xuICBwYWRkaW5nOiAwLjRyZW07XG4gIG1hcmdpbjogMC4zcmVtO1xuICByaWdodDogMDsgLy8gTk9URTogcmlnaHQgd2lsbCBiZSBzZXQgaW4gbWVybWFpZC5pbmxpbmUudHNcbiAgY29sb3I6IHZhcigtLWdyYXkpO1xuICBib3JkZXItY29sb3I6IHZhcigtLWRhcmspO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1saWdodCk7XG4gIGJvcmRlcjogMXB4IHNvbGlkO1xuICBib3JkZXItcmFkaXVzOiA1cHg7XG4gIG9wYWNpdHk6IDA7XG4gIHRyYW5zaXRpb246IDAuMnM7XG5cbiAgJiA+IHN2ZyB7XG4gICAgZmlsbDogdmFyKC0tbGlnaHQpO1xuICAgIGZpbHRlcjogY29udHJhc3QoMC4zKTtcbiAgfVxuXG4gICY6aG92ZXIge1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICBib3JkZXItY29sb3I6IHZhcigtLXNlY29uZGFyeSk7XG4gIH1cblxuICAmOmZvY3VzIHtcbiAgICBvdXRsaW5lOiAwO1xuICB9XG59XG5cbnByZSB7XG4gICY6aG92ZXIgPiAuZXhwYW5kLWJ1dHRvbiB7XG4gICAgb3BhY2l0eTogMTtcbiAgICB0cmFuc2l0aW9uOiAwLjJzO1xuICB9XG59XG5cbiNtZXJtYWlkLWNvbnRhaW5lciB7XG4gIHBvc2l0aW9uOiBmaXhlZDtcbiAgY29udGFpbjogbGF5b3V0O1xuICB6LWluZGV4OiA5OTk7XG4gIGxlZnQ6IDA7XG4gIHRvcDogMDtcbiAgd2lkdGg6IDEwMHZ3O1xuICBoZWlnaHQ6IDEwMHZoO1xuICBvdmVyZmxvdzogaGlkZGVuO1xuICBkaXNwbGF5OiBub25lO1xuICBiYWNrZHJvcC1maWx0ZXI6IGJsdXIoNHB4KTtcbiAgYmFja2dyb3VuZDogcmdiYSgwLCAwLCAwLCAwLjUpO1xuXG4gICYuYWN0aXZlIHtcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gIH1cblxuICAmID4gI21lcm1haWQtc3BhY2Uge1xuICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWxpZ2h0Z3JheSk7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tbGlnaHQpO1xuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcbiAgICBwb3NpdGlvbjogZml4ZWQ7XG4gICAgdG9wOiA1MCU7XG4gICAgbGVmdDogNTAlO1xuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpO1xuICAgIGhlaWdodDogODB2aDtcbiAgICB3aWR0aDogODB2dztcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xuXG4gICAgJiA+IC5tZXJtYWlkLWNvbnRlbnQge1xuICAgICAgcGFkZGluZzogMnJlbTtcbiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgIHRyYW5zZm9ybS1vcmlnaW46IDAgMDtcbiAgICAgIHRyYW5zaXRpb246IHRyYW5zZm9ybSAwLjFzIGVhc2U7XG4gICAgICBvdmVyZmxvdzogdmlzaWJsZTtcbiAgICAgIG1pbi1oZWlnaHQ6IDIwMHB4O1xuICAgICAgbWluLXdpZHRoOiAyMDBweDtcblxuICAgICAgcHJlIHtcbiAgICAgICAgbWFyZ2luOiAwO1xuICAgICAgICBib3JkZXI6IG5vbmU7XG4gICAgICB9XG5cbiAgICAgIHN2ZyB7XG4gICAgICAgIG1heC13aWR0aDogbm9uZTtcbiAgICAgICAgaGVpZ2h0OiBhdXRvO1xuICAgICAgfVxuICAgIH1cblxuICAgICYgPiAubWVybWFpZC1jb250cm9scyB7XG4gICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICBib3R0b206IDIwcHg7XG4gICAgICByaWdodDogMjBweDtcbiAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICBnYXA6IDhweDtcbiAgICAgIHBhZGRpbmc6IDhweDtcbiAgICAgIGJhY2tncm91bmQ6IHZhcigtLWxpZ2h0KTtcbiAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWxpZ2h0Z3JheSk7XG4gICAgICBib3JkZXItcmFkaXVzOiA2cHg7XG4gICAgICBib3gtc2hhZG93OiAwIDJweCA0cHggcmdiYSgwLCAwLCAwLCAwLjEpO1xuICAgICAgei1pbmRleDogMjtcblxuICAgICAgLm1lcm1haWQtY29udHJvbC1idXR0b24ge1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICAgICAgd2lkdGg6IDMycHg7XG4gICAgICAgIGhlaWdodDogMzJweDtcbiAgICAgICAgcGFkZGluZzogMDtcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tbGlnaHRncmF5KTtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tbGlnaHQpO1xuICAgICAgICBjb2xvcjogdmFyKC0tZGFyayk7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgICBmb250LXNpemU6IDE2cHg7XG4gICAgICAgIGZvbnQtZmFtaWx5OiB2YXIoLS1ib2R5Rm9udCk7XG4gICAgICAgIHRyYW5zaXRpb246IGFsbCAwLjJzIGVhc2U7XG5cbiAgICAgICAgJjpob3ZlciB7XG4gICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tbGlnaHRncmF5KTtcbiAgICAgICAgfVxuXG4gICAgICAgICY6YWN0aXZlIHtcbiAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMXB4KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFN0eWxlIHRoZSByZXNldCBidXR0b24gZGlmZmVyZW50bHlcbiAgICAgICAgJjpudGgtY2hpbGQoMikge1xuICAgICAgICAgIHdpZHRoOiBhdXRvO1xuICAgICAgICAgIHBhZGRpbmc6IDAgMTJweDtcbiAgICAgICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbiJdfQ== */</style><link href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css" rel="stylesheet" type="text/css" spa-preserve/><script src="../../../prescript.js" type="application/javascript" spa-preserve></script><script type="application/javascript" spa-preserve>const fetchData = fetch("../../../static/contentIndex.json").then(data => data.json())</script><link rel="alternate" type="application/rss+xml" title="RSS Feed" href="https://quartz.jzhao.xyz/index.xml"/><meta property="og:image:width" content="1200"/><meta property="og:image:height" content="630"/><meta property="og:image" content="https://quartz.jzhao.xyz/UNI/ANNO-2/RETI/RETI-LEZ.12-og-image.webp"/><meta property="og:image:url" content="https://quartz.jzhao.xyz/UNI/ANNO-2/RETI/RETI-LEZ.12-og-image.webp"/><meta name="twitter:image" content="https://quartz.jzhao.xyz/UNI/ANNO-2/RETI/RETI-LEZ.12-og-image.webp"/><meta property="og:image:type" content="image/.webp"/></head><body data-slug="UNI/ANNO-2/RETI/RETI-LEZ.12"><div id="quartz-root" class="page"><div id="quartz-body"><div class="left sidebar"><h2 class="page-title"><a href="../../..">Quartz 4</a></h2><div class="spacer mobile-only"></div><div class="flex-component" style="flex-direction: row; flex-wrap: nowrap; gap: 1rem;"><div style="flex-grow: 1; flex-shrink: 1; flex-basis: auto; order: 0; align-self: center; justify-self: center;"><div class="search"><button class="search-button"><svg role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19.9 19.7"><title>Search</title><g class="search-path" fill="none"><path stroke-linecap="square" d="M18.5 18.3l-5.4-5.4"></path><circle cx="8" cy="8" r="7"></circle></g></svg><p>Search</p></button><div class="search-container"><div class="search-space"><input autocomplete="off" class="search-bar" name="search" type="text" aria-label="Search for something" placeholder="Search for something"/><div class="search-layout" data-preview="true"></div></div></div></div></div><div style="flex-grow: 0; flex-shrink: 1; flex-basis: auto; order: 0; align-self: center; justify-self: center;"><button class="darkmode"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" class="dayIcon" x="0px" y="0px" viewBox="0 0 35 35" style="enable-background:new 0 0 35 35" xml:space="preserve" aria-label="Dark mode"><title>Dark mode</title><path d="M6,17.5C6,16.672,5.328,16,4.5,16h-3C0.672,16,0,16.672,0,17.5    S0.672,19,1.5,19h3C5.328,19,6,18.328,6,17.5z M7.5,26c-0.414,0-0.789,0.168-1.061,0.439l-2,2C4.168,28.711,4,29.086,4,29.5    C4,30.328,4.671,31,5.5,31c0.414,0,0.789-0.168,1.06-0.44l2-2C8.832,28.289,9,27.914,9,27.5C9,26.672,8.329,26,7.5,26z M17.5,6    C18.329,6,19,5.328,19,4.5v-3C19,0.672,18.329,0,17.5,0S16,0.672,16,1.5v3C16,5.328,16.671,6,17.5,6z M27.5,9    c0.414,0,0.789-0.168,1.06-0.439l2-2C30.832,6.289,31,5.914,31,5.5C31,4.672,30.329,4,29.5,4c-0.414,0-0.789,0.168-1.061,0.44    l-2,2C26.168,6.711,26,7.086,26,7.5C26,8.328,26.671,9,27.5,9z M6.439,8.561C6.711,8.832,7.086,9,7.5,9C8.328,9,9,8.328,9,7.5    c0-0.414-0.168-0.789-0.439-1.061l-2-2C6.289,4.168,5.914,4,5.5,4C4.672,4,4,4.672,4,5.5c0,0.414,0.168,0.789,0.439,1.06    L6.439,8.561z M33.5,16h-3c-0.828,0-1.5,0.672-1.5,1.5s0.672,1.5,1.5,1.5h3c0.828,0,1.5-0.672,1.5-1.5S34.328,16,33.5,16z     M28.561,26.439C28.289,26.168,27.914,26,27.5,26c-0.828,0-1.5,0.672-1.5,1.5c0,0.414,0.168,0.789,0.439,1.06l2,2    C28.711,30.832,29.086,31,29.5,31c0.828,0,1.5-0.672,1.5-1.5c0-0.414-0.168-0.789-0.439-1.061L28.561,26.439z M17.5,29    c-0.829,0-1.5,0.672-1.5,1.5v3c0,0.828,0.671,1.5,1.5,1.5s1.5-0.672,1.5-1.5v-3C19,29.672,18.329,29,17.5,29z M17.5,7    C11.71,7,7,11.71,7,17.5S11.71,28,17.5,28S28,23.29,28,17.5S23.29,7,17.5,7z M17.5,25c-4.136,0-7.5-3.364-7.5-7.5    c0-4.136,3.364-7.5,7.5-7.5c4.136,0,7.5,3.364,7.5,7.5C25,21.636,21.636,25,17.5,25z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" class="nightIcon" x="0px" y="0px" viewBox="0 0 100 100" style="enable-background:new 0 0 100 100" xml:space="preserve" aria-label="Light mode"><title>Light mode</title><path d="M96.76,66.458c-0.853-0.852-2.15-1.064-3.23-0.534c-6.063,2.991-12.858,4.571-19.655,4.571  C62.022,70.495,50.88,65.88,42.5,57.5C29.043,44.043,25.658,23.536,34.076,6.47c0.532-1.08,0.318-2.379-0.534-3.23  c-0.851-0.852-2.15-1.064-3.23-0.534c-4.918,2.427-9.375,5.619-13.246,9.491c-9.447,9.447-14.65,22.008-14.65,35.369  c0,13.36,5.203,25.921,14.65,35.368s22.008,14.65,35.368,14.65c13.361,0,25.921-5.203,35.369-14.65  c3.872-3.871,7.064-8.328,9.491-13.246C97.826,68.608,97.611,67.309,96.76,66.458z"></path></svg></button></div><div style="flex-grow: 0; flex-shrink: 1; flex-basis: auto; order: 0; align-self: center; justify-self: center;"><button class="readermode"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" class="readerIcon" fill="currentColor" stroke="currentColor" stroke-width="0.2" stroke-linecap="round" stroke-linejoin="round" width="64px" height="64px" viewBox="0 0 24 24" aria-label="Reader mode"><title>Reader mode</title><g transform="translate(-1.8, -1.8) scale(1.15, 1.2)"><path d="M8.9891247,2.5 C10.1384702,2.5 11.2209868,2.96705384 12.0049645,3.76669482 C12.7883914,2.96705384 13.8709081,2.5 15.0202536,2.5 L18.7549359,2.5 C19.1691495,2.5 19.5049359,2.83578644 19.5049359,3.25 L19.5046891,4.004 L21.2546891,4.00457396 C21.6343849,4.00457396 21.9481801,4.28672784 21.9978425,4.6528034 L22.0046891,4.75457396 L22.0046891,20.25 C22.0046891,20.6296958 21.7225353,20.943491 21.3564597,20.9931534 L21.2546891,21 L2.75468914,21 C2.37499337,21 2.06119817,20.7178461 2.01153575,20.3517706 L2.00468914,20.25 L2.00468914,4.75457396 C2.00468914,4.37487819 2.28684302,4.061083 2.65291858,4.01142057 L2.75468914,4.00457396 L4.50368914,4.004 L4.50444233,3.25 C4.50444233,2.87030423 4.78659621,2.55650904 5.15267177,2.50684662 L5.25444233,2.5 L8.9891247,2.5 Z M4.50368914,5.504 L3.50468914,5.504 L3.50468914,19.5 L10.9478955,19.4998273 C10.4513189,18.9207296 9.73864328,18.5588115 8.96709342,18.5065584 L8.77307039,18.5 L5.25444233,18.5 C4.87474657,18.5 4.56095137,18.2178461 4.51128895,17.8517706 L4.50444233,17.75 L4.50368914,5.504 Z M19.5049359,17.75 C19.5049359,18.1642136 19.1691495,18.5 18.7549359,18.5 L15.2363079,18.5 C14.3910149,18.5 13.5994408,18.8724714 13.0614828,19.4998273 L20.5046891,19.5 L20.5046891,5.504 L19.5046891,5.504 L19.5049359,17.75 Z M18.0059359,3.999 L15.0202536,4 L14.8259077,4.00692283 C13.9889509,4.06666544 13.2254227,4.50975805 12.7549359,5.212 L12.7549359,17.777 L12.7782651,17.7601316 C13.4923805,17.2719483 14.3447024,17 15.2363079,17 L18.0059359,16.999 L18.0056891,4.798 L18.0033792,4.75457396 L18.0056891,4.71 L18.0059359,3.999 Z M8.9891247,4 L6.00368914,3.999 L6.00599909,4.75457396 L6.00599909,4.75457396 L6.00368914,4.783 L6.00368914,16.999 L8.77307039,17 C9.57551536,17 10.3461406,17.2202781 11.0128313,17.6202194 L11.2536891,17.776 L11.2536891,5.211 C10.8200889,4.56369974 10.1361548,4.13636104 9.37521067,4.02745763 L9.18347055,4.00692283 L8.9891247,4 Z"></path></g></svg></button></div></div><div class="explorer" data-behavior="link" data-collapsed="collapsed" data-savestate="true" data-data-fns="{&quot;order&quot;:[&quot;filter&quot;,&quot;map&quot;,&quot;sort&quot;],&quot;sortFn&quot;:&quot;(a,b)=>!a.isFolder&amp;&amp;!b.isFolder||a.isFolder&amp;&amp;b.isFolder?a.displayName.localeCompare(b.displayName,void 0,{numeric:!0,sensitivity:\&quot;base\&quot;}):!a.isFolder&amp;&amp;b.isFolder?1:-1&quot;,&quot;filterFn&quot;:&quot;node=>node.slugSegment!==\&quot;tags\&quot;&quot;,&quot;mapFn&quot;:&quot;node=>node&quot;}"><button type="button" class="explorer-toggle mobile-explorer hide-until-loaded" data-mobile="true" aria-controls="explorer-282"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide-menu"><line x1="4" x2="20" y1="12" y2="12"></line><line x1="4" x2="20" y1="6" y2="6"></line><line x1="4" x2="20" y1="18" y2="18"></line></svg></button><button type="button" class="title-button explorer-toggle desktop-explorer" data-mobile="false" aria-expanded="true"><h2>Explorer</h2><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="fold"><polyline points="6 9 12 15 18 9"></polyline></svg></button><div id="explorer-282" class="explorer-content" aria-expanded="false" role="group"><ul class="explorer-ul overflow" id="list-0"><li class="overflow-end"></li></ul></div><template id="template-file"><li><a href="#"></a></li></template><template id="template-folder"><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div><button class="folder-button"><span class="folder-title"></span></button></div></div><div class="folder-outer"><ul class="content"></ul></div></li></template></div></div><div class="center"><div class="page-header"><div class="popover-hint"><nav class="breadcrumb-container" aria-label="breadcrumbs"><div class="breadcrumb-element"><a href="../../../">Home</a><p> ❯ </p></div><div class="breadcrumb-element"><a href="../../../UNI/">UNI</a><p> ❯ </p></div><div class="breadcrumb-element"><a href="../../../UNI/ANNO-2/">ANNO 2</a><p> ❯ </p></div><div class="breadcrumb-element"><a href="../../../UNI/ANNO-2/RETI/">RETI</a><p> ❯ </p></div><div class="breadcrumb-element"><a href>RETI LEZ.12</a></div></nav><h1 class="article-title">RETI LEZ.12</h1><p show-comma="true" class="content-meta"><time datetime="2025-10-13T15:42:40.000Z">Oct 13, 2025</time><span>19 min read</span></p></div></div><article class="popover-hint"><h2 id="-cosa-fa-il-livello-di-rete">🧭 <strong>Cosa fa il livello di rete?</strong><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#-cosa-fa-il-livello-di-rete" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<p><img src="../../../UNI/ANNO-2/FONDAMENTI/fotofond/Pasted-image-20250414191945.png" width="auto" height="auto" alt/>
Il livello di rete si occupa di trasportare i segmenti (ossia i dati provenienti dal livello di trasporto, come TCP/UDP) da un host mittente a un host destinatario.</p>
<ul>
<li>
<p>🟢 <strong>Mittente</strong></p>
<ul>
<li>Prende il segmento ricevuto dal livello di trasporto</li>
<li>Lo incapsula nel datagramma IP, che poi lo passa al livello di collegamento (tipo Ethernet, Wifi…)</li>
</ul>
</li>
<li>
<p>🔵 <strong>Destinatario</strong></p>
<ul>
<li>Quando il datagramma arriva, il livello di rete lo estrae e consegna il segmento al livello di trasporto</li>
</ul>
</li>
</ul>
<p>🌍 <strong>Protocollo di rete = IP (Internet Protocol)</strong>
È il cuore del livello di rete ed è implementato ovunque</p>
<ul>
<li>host (client, server, smartphone)</li>
<li>router</li>
</ul>
<blockquote class="callout question" data-callout="question">
<div class="callout-title">
                  <div class="callout-icon"></div>
                  <div class="callout-title-inner"><p>🛣️ <strong>Cosa fa un router?</strong></p></div>
                  
                </div>
<div class="callout-content">
<ol>
<li>Esamina l’intestazione IP di ogni pacchetto che gli passa attraverso (ossia, guarda l’ip di destinazione)</li>
<li>Decide dove mandare il pacchetto e lo instrada dalla posta di ingresso a quella di uscita</li>
</ol>
<p>Questo processo avviene hop-by-hop, ossia ogni router prende una decisione fino a raggiungere la destinazione finale</p>
</div>
</blockquote>
<p><img src="../../../UNI/ANNO-2/RETI/fotret/Pasted-image-20250417213715.png" width="auto" height="auto" alt/></p>
<h3 id="-le-due-funzioni-chiave-del-livello-di-rete">🚦 Le <strong>due funzioni chiave</strong> del livello di rete:<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#-le-due-funzioni-chiave-del-livello-di-rete" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<ol>
<li>
<p>🔹<strong>Inoltro (forwarding)</strong>
È il lavoro fatto da ogni singolo router per instradare ogni pacchetto (il discorso che facevamo prima dello “scegliere la porta corretta”).
🧠 È gestito dal <strong>piano dei dati</strong>(spiegazione dopo)
🟢 È un’operazione <strong>rapida e locale</strong> che riguarda ogni singolo pacchetto.</p>
</li>
<li>
<p>🔹 <strong>Instradamento (routing)</strong>
È il processo globale che decide quale percorso seguire nella rete</p>
<ul>
<li>vengono utilizzati degli algoritmi (tipo Dijkstra) che creano e aggiornano le tabelle di routing nei router</li>
<li>queste tabelle servono per sapere dove inoltrare i pacchetti per ogni possibile destinazione.
🧠 È gestito dal <strong>piano di controllo</strong>(dopo spiego meglio)
🟡 È una <strong>pianificazione a lungo termine</strong>, non si fa per ogni pacchetto.</li>
</ul>
</li>
</ol>
<p><img src="../../../UNI/ANNO-2/RETI/fotret/Pasted-image-20250417214114.png" width="auto" height="auto" alt/></p>
<h3 id="le-due-parti-del-livello-di-rete">Le due parti del livello di rete<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#le-due-parti-del-livello-di-rete" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<h5 id="-piano-dei-dati">🔹 <strong>Piano dei dati</strong><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#-piano-dei-dati" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h5>
<blockquote>
<p>È la parte operativa di ogni singolo router.</p>
</blockquote>
<p>È una funzione locale <span>→</span> ossia lavora sul momento, nel router stesso.
Decide come inoltrare ogni pacchetto in base alla tabella di instradamento
Guarda l’intestazione del pacchetto <span>→</span> lo manda verso la porta corretta.</p>
<p>📌 È quindi il meccanismo che fa fisicamente <strong>muovere i pacchetti</strong>.</p>
<h5 id="-piano-di-controllo">🔸 <strong>Piano di controllo</strong><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#-piano-di-controllo" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h5>
<blockquote>
<p>È la parte che si occupa della logica globale della rete</p>
</blockquote>
<p>Decide quali percorsi devono esistere tra origine e destinazione, costruendo e aggiornando le tabelle di instradamento (usate poi nel piano dei dati).</p>
<p>Funziona con algoritmi di routing che possono essere gestiti in due modi:</p>
<ol>
<li>
<p><strong>Algoritmi tradizionali</strong> (es. RIP, OSPF):</p>
<ul>
<li>implementati nei router stessi</li>
</ul>
</li>
<li>
<p><strong>SDN – Software Defined Networking</strong>:</p>
<ul>
<li>la logica dell’instradamento è gestita da server esterni/remoti</li>
<li>in questo modo i router ricevono le regole da un controller centrale</li>
</ul>
</li>
</ol>
<p><img src="../../../UNI/ANNO-2/RETI/fotret/Pasted-image-20250417214303.png" width="auto" height="auto" alt/>
<img src="../../../UNI/ANNO-2/RETI/fotret/Pasted-image-20250417214312.png" width="auto" height="auto" alt/></p>
<h3 id="software-defined-networking-sdn"><strong>Software-Defined Networking (SDN)</strong><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#software-defined-networking-sdn" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<h4 id="-cosè-sdn">🧠 <strong>Cos’è SDN?</strong><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#-cosè-sdn" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h4>
<p>Un’architettura in cui il piano di controllo non è più nei router ma viene centralizzato in un unico server remoto</p>
<p><img src="../../../UNI/ANNO-2/RETI/fotret/Pasted-image-20250417214551.png" width="auto" height="auto" alt/></p>
<h4 id="-come-funziona">🔧 Come funziona?<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#-come-funziona" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h4>
<ul>
<li>I router diventano semplici dispositivi “esecutori” (solo inoltro)</li>
<li>Non calcolano nulla da soli</li>
<li>Il controller remoto
<ul>
<li>riceve le informazioni della rete</li>
<li>calcola le tabelle di instradamento per tutti i router</li>
<li>e le installa nei router (frecce rosse verso il basso)</li>
</ul>
</li>
</ul>
<h3 id="-che-tipo-di-servizio-offre-la-rete-al-trasporto-dei-datagrammi">🧩 <strong>Che tipo di servizio offre la rete al trasporto dei datagrammi?</strong><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#-che-tipo-di-servizio-offre-la-rete-al-trasporto-dei-datagrammi" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<h4 id="modello-di-servizio"><strong>Modello di servizio</strong><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#modello-di-servizio" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h4>
<p>È come dire:</p>
<blockquote>
<p>“Quando mando un datagramma, <strong>la rete mi garantisce qualcosa</strong> oppure no?”<br/>
Le risposte possono variare in base al tipo di servizio offerto.</p>
</blockquote>
<h5 id="-servizi-per-un-singolo-datagramma">📦 Servizi per un <strong>singolo datagramma</strong><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#-servizi-per-un-singolo-datagramma" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h5>
<p>Questi si riferiscono a una singola unità dati</p>
<ul>
<li>🔵 <strong>Consegna garantita</strong>: il pacchetto arriva sicuramente a destinazione</li>
<li>🔵 <strong>Consegna con ritardo limitato</strong>: tipo dice “il pacchetto deve arrivare entro 40ms” (serve per applicazioni sensibili al ritardo, tipo audio/video)</li>
</ul>
<h5 id="-servizi-per-un-flusso-di-datagrammi">🔄 Servizi per un <strong>flusso di datagrammi</strong><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#-servizi-per-un-flusso-di-datagrammi" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h5>
<p>Qui si fa riferimento a più pacchetti consecutivi (es. una videochiamata)</p>
<ul>
<li>🔵 <strong>Consegna in ordine</strong>: i pacchetti arrivano nell’ordine corretto</li>
<li>🔵 <strong>Banda minima garantita</strong>: la rete assicura una velocità certa (es. 2 Mbps)</li>
<li>🔵 <strong>Controllo della spaziatura</strong>: i pacchetti non arrivano troppo distanziati</li>
</ul>
<p><img src="../../../UNI/ANNO-2/RETI/fotret/Pasted-image-20250417214712.png" width="auto" height="auto" alt/></p>
<blockquote class="callout tip" data-callout="tip">
<div class="callout-title">
                  <div class="callout-icon"></div>
                  <div class="callout-title-inner"><p>📌 Nota importante: </p></div>
                  
                </div>
<div class="callout-content">
<p>Il protocollo IP <strong>non garantisce nulla di tutto questo</strong>.<br/>
È un servizio <strong>“best effort”</strong> → ci prova, ma <strong>non promette niente</strong>.</p>
</div>
</blockquote>
<p>Tutti questi modelli sono <strong>esempi</strong> di servizi che una rete <strong>potrebbe offrire</strong>,<br/>
ma <strong>non sono presenti nel modello IP base</strong> di Internet.</p>
<h4 id="perché-il-modello-best-effort-per-quanto-non-garantisca-al-100-funziona-ed-è-diffuso">Perché il modello “best-effort”, per quanto non garantisca al 100%, funziona ed è diffuso?<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#perché-il-modello-best-effort-per-quanto-non-garantisca-al-100-funziona-ed-è-diffuso" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h4>
<p><img src="../../../UNI/ANNO-2/RETI/fotret/Pasted-image-20250417214753.png" width="auto" height="auto" alt/></p>
<hr/>
<h2 id="router"><strong>Router</strong><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#router" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<h4 id="-struttura-del-router-due-piani">🧱 <strong>Struttura del router: due piani</strong><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#-struttura-del-router-due-piani" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h4>
<p><img src="../../../UNI/ANNO-2/RETI/fotret/Pasted-image-20250417214823.png" width="auto" height="auto" alt/></p>
<h5 id="-1-piano-di-controllo">🔹 1. <strong><font color="#c0504d">Piano di controllo</font></strong><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#-1-piano-di-controllo" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h5>
<p>È gestito via software.</p>
<p>Si occupa di</p>
<ul>
<li>calcolare i percorsi</li>
<li>rispondere a malfunzionamenti</li>
<li>gestire configurazioni</li>
</ul>
<p>Funziona a una scala lenta (millisecondi o secondi) perché non è coinvolto nel trattamento di ogni pacchetto.</p>
<h5 id="-2-piano-dei-dati">🔸 2. <strong><font color="#c0504d">Piano dei dati</font></strong><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#-2-piano-dei-dati" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h5>
<p>Fatto in hardware, perché deve essere molto veloce.</p>
<p>Si occupa dell’inoltro dei pacchetti, ossia</p>
<ul>
<li>prende un pacchetto da una porta di ingresso</li>
<li>lo sposta verso la porta di uscita giusta, passando per la struttura di commutazione</li>
</ul>
<p>Funziona su scala molto rapida: nanosecondi.</p>
<h5 id="-struttura-di-commutazione">🔁 Struttura di commutazione<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#-struttura-di-commutazione" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h5>
<ul>
<li>È il “cuore” del router,</li>
<li>Serve per <strong>instradare velocemente</strong> i pacchetti dall’ingresso all’uscita.</li>
</ul>
<h5 id="analogia-automobilistica">ANALOGIA AUTOMOBILISTICA<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#analogia-automobilistica" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h5>
<p><img src="../../../UNI/ANNO-2/RETI/fotret/Pasted-image-20250417214958.png" width="auto" height="auto" alt/></p>
<h3 id="porte-di-ingresso">Porte di ingresso<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#porte-di-ingresso" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<h5 id="-obiettivo-generale">🎯 <strong>Obiettivo generale</strong><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#-obiettivo-generale" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h5>
<p>L’idea è quella far sì che ogni porta di ingresso possa ricevere e processare i pacchetti il più velocemente possibile, idealmente alla velocità di linea (senza la conseguente perdita di pacchetti).</p>
<p><img src="../../../UNI/ANNO-2/RETI/fotret/Pasted-image-20250417215033.png" width="auto" height="auto" alt/></p>
<h5 id="passi-in-sequenza">Passi in sequenza<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#passi-in-sequenza" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h5>
<h6 id="1️⃣-terminazione-di-linea-verde">1️⃣ <strong><font color="#9bbb59">Terminazione di linea</font></strong> (verde)<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#1️⃣-terminazione-di-linea-verde" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h6>
<ul>
<li>riceve i bit “grezzi” che arrivano sul cavo o sul collegamento (LIVELLO FISICO)</li>
</ul>
<h6 id="2️⃣-elaborazione-a-livello-di-collegamento-blu">2️⃣ <strong><font color="#4f81bd">Elaborazione a livello di collegamento</font></strong> (blu)<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#2️⃣-elaborazione-a-livello-di-collegamento-blu" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h6>
<ul>
<li>Interpreta il frame</li>
<li>rimuove l’intestazione di livello 2 <span>→</span> si dice che “decapsula” il datagramma IP</li>
</ul>
<p>In pratica (matrioska): rimuovi il guscio esterno (frame) <span>→</span> arrivi al datagramma</p>
<h6 id="3️⃣-ricerca-e-inoltro-rosso">3️⃣ <strong><font color="#c0504d">Ricerca e inoltro</font></strong> (rosso)<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#3️⃣-ricerca-e-inoltro-rosso" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h6>
<ul>
<li>Guarda i campi del datagramma</li>
<li>consulta la tabella di inoltro locale</li>
<li>decide la porta di uscita corretta</li>
</ul>
<blockquote>
<p>Processo che si chiama “Match Plus Action”</p>
</blockquote>
<ol>
<li>
<p><strong>🟦 Match</strong> → <strong>confronta</strong> l’intestazione del pacchetto (soprattutto l’indirizzo IP di destinazione) con le voci nella <strong>tabella di inoltro</strong></p>
</li>
<li>
<p><strong>🟩 Action</strong> → <strong>decide l’azione da eseguire</strong>, cioè <strong>a quale porta mandare il pacchetto</strong></p>
</li>
</ol>
<h6 id="4️⃣-accodamento-buffer">4️⃣ <strong>Accodamento (buffer)</strong><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#4️⃣-accodamento-buffer" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h6>
<ul>
<li>Serve per mettere in coda i pacchetti se questi arrivano troppo in fretta o se la struttura di commutazione è occupata/lenta</li>
</ul>
<blockquote>
<p>Abbiamo i soliti problemi di congestione se il buffer si riempie</p>
</blockquote>
<h4 id="-commutazione-decentralizzata">🧠 <strong>Commutazione decentralizzata</strong><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#-commutazione-decentralizzata" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h4>
<p>Questo vuol dire che questa struttura è progettata per far sì che le porte di ingresso eseguano le loro elaborazioni da sole, senza aspettare il processore centrale.
Così il tutto è molto più veloce.</p>
<blockquote class="callout tip" data-callout="tip">
<div class="callout-title">
                  <div class="callout-icon"></div>
                  <div class="callout-title-inner"><p>🔁 Cosa succede con <strong>commutazione centralizzata</strong> (vecchio metodo)</p></div>
                  
                </div>
<div class="callout-content">
<ul>
<li>
<p>Tutti i pacchetti devono passare per la <strong>CPU centrale del router</strong></p>
</li>
<li>
<p>La CPU <strong>guarda l’intestazione IP</strong>, <strong>consulta la tabella</strong> e decide dove mandare il pacchetto</p>
</li>
<li>
<p>Poi lo inoltra alla porta di uscita</p>
</li>
</ul>
<p>🛑 Problema: se arrivano troppi pacchetti → <strong>la CPU si intasa</strong> → ritardi</p>
<h5 id="-cosa-succede-con-commutazione-decentralizzata">🚀 Cosa succede con <strong>commutazione decentralizzata</strong><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#-cosa-succede-con-commutazione-decentralizzata" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h5>
<ul>
<li>Ogni <strong>porta di ingresso</strong> ha:
<ul>
<li>un piccolo processore locale</li>
<li>accesso alla tabella di inoltro</li>
</ul>
</li>
</ul>
</div>
</blockquote>
<h4 id="-due-tipi-di-inoltro">📌 Due tipi di inoltro<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#-due-tipi-di-inoltro" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h4>
<p>🔴 <strong>Inoltro basato sulla destinazione</strong>
Il metodo tradizionale usato in internet, in cui</p>
<ul>
<li>il router guarda l’indirizzo IP di destinazione</li>
<li>e usa la tabella per decidere la porta di uscita</li>
</ul>
<p>🟠 <strong>Inoltro generalizzato</strong>
Qui il router guarda altre informazione, i campi dell’intestazione</p>
<ul>
<li>es. tipo di servizio, protocollo, ecc…</li>
</ul>
<p>Questo è utile in reti più complesse.</p>
<h3 id="destinazione-basata-sullindirizzo-di-destinazione">Destinazione basata sull’indirizzo di destinazione<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#destinazione-basata-sullindirizzo-di-destinazione" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<p><strong>CIDR</strong> (Classless Inter-Domain Routing).</p>
<h5 id="-contesto-un-po-più-generale">🔁 <strong>Contesto un po’ più generale</strong><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#-contesto-un-po-più-generale" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h5>
<p>Come abbiamo detto prima, quando un router riceve un pacchetto, deve decidere da quale interfaccia farlo uscire, in base all’IP di destinazione.
Per farlo confronta l’IP con le voci nella tabella di inoltro.</p>
<p>Qui abbiamo due casi</p>
<ol>
<li>
<p>gli indirizzi IP si dividono bene in blocchi <span>→</span> la tabella è semplice da leggere e sfruttare, hanno un intervallo ben definito
<img src="../../../UNI/ANNO-2/RETI/fotret/Pasted-image-20250417215742.png" width="auto" height="auto" alt/>
<code>192.168.0.0/16</code>
Significa che tutti gli IP da 192.168.0.0 a 192.168.255.255 sono coperti da una sola riga nella tabella.
➡️ In questo caso: una riga = copertura perfetta
Semplice da gestire.</p>
</li>
<li>
<p>può succedere però che gli indirizzi non si allineino perfettamente, non hanno un intervallo eccezionale
<img src="../../../UNI/ANNO-2/RETI/fotret/Pasted-image-20250417215751.png" width="auto" height="auto" alt/>
Qui è necessario spezzare l’intervallo e inserire più righe nella tabella per coprire tutte le possibilità
Supponiamo ora che tu debba coprire <strong>solo un intervallo “strano”</strong>, tipo:
<code>da 192.168.0.0 a 192.168.2.255</code>
Questo <strong>non corrisponde a un singolo blocco CIDR pulito</strong>, quindi <strong>non puoi scrivere una sola riga</strong> come:
<code>192.168.0.0/22</code>
Perché <code>/22</code> coprirebbe <strong>anche <code>192.168.3.x</code></strong>, che <strong>non vuoi includere</strong>.
👉 Quindi sei costretto a <strong>spezzare l’intervallo in più sottoblocchi</strong>, tipo:</p>
</li>
</ol>
<p><code>192.168.0.0/23   → copre da 192.168.0.0 a 192.168.1.255</code>
<code>192.168.2.0/24   → copre da 192.168.2.0 a 192.168.2.255</code></p>
<p>Ora hai <strong>due righe</strong> nella tabella per coprire quello che prima speravi di scrivere in una.</p>
<blockquote class="callout question is-collapsible is-collapsed" data-callout="question" data-callout-fold>
<div class="callout-title">
                  <div class="callout-icon"></div>
                  <div class="callout-title-inner"><p>cosa significa quello /x? </p></div>
                  <div class="fold-callout-icon"></div>
                </div>
<div class="callout-content">
<p>La <strong><code>/x</code></strong> indica <strong>quanti bit iniziali dell’indirizzo IP</strong> rappresentano <strong>la parte di rete (sottorete)</strong>.
Un indirizzo IPv4 è lungo <strong>32 bit</strong></p>
<ul>
<li>Se scrivi <code>192.168.0.0/16</code>, stai dicendo:
“I <strong>primi 16 bit</strong> identificano la rete, gli altri <strong>16 bit</strong> identificano gli host in quella rete”</li>
</ul>
</div>
</blockquote>
<p><a href="../../../UNI/ANNO-2/RETI/RETI-LEZ.12#-formato-cidr" class="internal alias" data-slug="UNI/ANNO-2/RETI/RETI-LEZ.12">lo spiego meglio qui</a></p>
<blockquote class="callout question" data-callout="question">
<div class="callout-title">
                  <div class="callout-icon"></div>
                  <div class="callout-title-inner"><p>Come si gestisce il secondo caso? </p></div>
                  
                </div>
</blockquote>
<p>Quando un router trova più voci che “matchano” un IP si sceglie sempre quella con il prefisso più lungo (ossia quella che ha più bit uguali).</p>
<h6 id="esempio">ESEMPIO<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#esempio" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h6>
<p><img src="../../../UNI/ANNO-2/RETI/fotret/Pasted-image-20250417215803.png" width="auto" height="auto" alt/></p>
<ul>
<li>
<p>Proviamo la prima
<img src="../../../UNI/ANNO-2/RETI/fotret/Pasted-image-20250417215813.png" width="auto" height="auto" alt/></p>
</li>
<li>
<p>Proviamo la terza
<img src="../../../UNI/ANNO-2/RETI/fotret/Pasted-image-20250417215822.png" width="auto" height="auto" alt/></p>
</li>
<li>
<p>Proviamo la seconda
<img src="../../../UNI/ANNO-2/RETI/fotret/Pasted-image-20250417215831.png" width="auto" height="auto" alt/></p>
</li>
</ul>
<blockquote class="callout example" data-callout="example">
<div class="callout-title">
                  <div class="callout-icon"></div>
                  <div class="callout-title-inner"><p>La seconda ha più bit uguali <span>→</span> viene scelta</p></div>
                  
                </div>
</blockquote>
<h3 id="tcam--priority-encoder"><strong>TCAM + Priority Encoder</strong><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#tcam--priority-encoder" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<p>Per poter eseguire la ricerca dell’IP corretto (o comunque quello più papabile) viene utilizzata un’architettura particolare.</p>
<h5 id="-1-tcam-ternary-content-addressable-memory">📦 <strong>1. TCAM (Ternary Content Addressable Memory)</strong><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#-1-tcam-ternary-content-addressable-memory" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h5>
<p>È una memoria speciale <strong>content addressable</strong> in cui</p>
<ul>
<li>viene passato un indirizzo IP a 32 bit come input</li>
<li>e la TCAM dice quale riga corrisponde in un tempo essenzialmente costante</li>
</ul>
<p>Nel dettaglio, ogni riga TCAM ha</p>
<ul>
<li>un prefisso da confrontare</li>
<li>alcuni bit marcati come <code>*</code> (definiti “don’t care”), ossia non vengono considerati</li>
<li>un comparatore che restituisce “1” se c’è una corrispondenza</li>
</ul>
<h5 id="-2-priority-encoder">📊 <strong>2. Priority Encoder</strong><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#-2-priority-encoder" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h5>
<p>Quando la TCAM trova più righe valide (quindi a “1”) entra in gioco il <strong>Priority Encoder</strong>, il quale</p>
<ul>
<li>sceglie la riga con la <strong>priorità più alta</strong>, ossia quella <strong>più in alto</strong> (foto).</li>
</ul>
<p>👉 <strong>Nota</strong>: Le righe <strong>con prefissi più lunghi</strong> stanno <strong>in alto</strong> per primeggiare nella selezione.</p>
<h5 id="-3-ram">📥 <strong>3. RAM</strong><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#-3-ram" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h5>
<p>Dopo aver scelto la porta giusta, il <strong>Priority Encoder</strong> restituisce il numero di quella riga <strong>in binario</strong> e lo passa al <strong>Decoder</strong> della RAM, che mappa quella riga a un’<strong>interfaccia di uscita</strong> (porta).</p>
<p><img src="../../../UNI/ANNO-2/RETI/fotret/Pasted-image-20250418125759.png" width="auto" height="auto" alt/></p>
<h2 id="️-struttura-di-commutazione-switching-fabric">🏗️ <strong>Struttura di commutazione (switching fabric)</strong><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#️-struttura-di-commutazione-switching-fabric" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<p>LA struttura di comunicazione è il cuore del router: serve a trasferire i pacchetti dalle porte di ingresso a quelle di uscita.</p>
<h5 id="-obiettivo">🎯 Obiettivo<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#-obiettivo" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h5>
<p>Muovere i pacchetti il più velocemente possibile tra input e output.
L’ideale sarebbe avere un tasso di trasferimento della struttura pari a <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span></span></span></span>, dove</p>
<ul>
<li><code>N</code> = numero di porte</li>
<li><code>R</code> = velocità di ogni singola linea</li>
</ul>
<h4 id="-le-3-tipologie-di-strutture-di-commutazione"><strong>🔧 Le 3 tipologie di strutture di commutazione</strong><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#-le-3-tipologie-di-strutture-di-commutazione" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h4>
<p><img src="../../../UNI/ANNO-2/RETI/fotret/Pasted-image-20250706171108.png" width="auto" height="auto" alt/></p>
<h5 id="1-commutazione-in-memoria-">1. <strong>Commutazione in memoria</strong> 🧠<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#1-commutazione-in-memoria-" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h5>
<p>È il metodo più semplice e vecchio.</p>
<ul>
<li>Un router tradizionale usa la CPU per spostare i pacchetti da una parte all’altra</li>
<li>ogni pacchetto viene copiato in memoria, poi letto e infine inoltrato</li>
</ul>
<p><img src="../../../UNI/ANNO-2/RETI/fotret/Pasted-image-20250418130051.png" width="auto" height="auto" alt/></p>
<p>PROBLEMI</p>
<ul>
<li>❌ <strong>Limite</strong>: la velocità dipende dalla memoria del sistema → <strong>non scala bene</strong>.</li>
<li>⚠️ Richiede <strong>2 accessi alla memoria</strong> per ogni pacchetto (scrittura e lettura).</li>
</ul>
<blockquote>
<p>🗨️ Va bene per router lenti o di piccole dimensioni, ma <strong>non è adatto ad ambienti ad alta velocità</strong>.
<img src="../../../UNI/ANNO-2/RETI/fotret/Pasted-image-20250418130234.png" width="auto" height="auto" alt/></p>
</blockquote>
<h5 id="2-commutazione-tramite-bus-">2. <strong>Commutazione tramite bus</strong> 🚌<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#2-commutazione-tramite-bus-" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h5>
<p>Tutte le porte usano un bus condiviso per mandare pacchetti da input a output.</p>
<ul>
<li>✅ È più veloce della commutazione di memoria perché la CPU non viene coinvolta direttamente</li>
<li>❌Ma c’è <strong>bus contention</strong>: solo una trasmissione per volta <span>→</span> colli di bottiglia</li>
</ul>
<p><img src="../../../UNI/ANNO-2/RETI/fotret/Pasted-image-20250418130100.png" width="auto" height="auto" alt/></p>
<blockquote>
<p>🗨️ È più efficiente della memoria, ma scala poco: quando il traffico aumenta, il bus si satura.</p>
</blockquote>
<h5 id="3-commutazione-tramite-rete-di-interconnessione-️">3. <strong>Commutazione tramite rete di interconnessione</strong> 🕸️<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#3-commutazione-tramite-rete-di-interconnessione-️" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h5>
<p>Qui entra in gioco il parallelismo: vengono usati switch multipli collegati in modo strutturato</p>
<p>Abbiamo due approcci</p>
<h6 id="a-crossbar-matrice-di-commutazione">a. <strong>Crossbar (matrice di commutazione)</strong><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#a-crossbar-matrice-di-commutazione" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h6>
<p>È una <strong>griglia</strong> <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span>: ogni input può essere connesso a ogni output, se non c’è conflitto.
<img src="../../../UNI/ANNO-2/RETI/fotret/Pasted-image-20250418130119.png" width="auto" height="auto" alt/></p>
<ul>
<li>✅ Veloce e parallela.</li>
<li>❌ Ma costosa e complessa per grandi N.</li>
</ul>
<h6 id="b-multistage-reti-clos">b. <strong>Multistage (reti Clos)</strong><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#b-multistage-reti-clos" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h6>
<p>Si usano <strong>più stadi di switch piccoli</strong>, tipo 2x2 o 4x4, in cascata.
<img src="../../../UNI/ANNO-2/RETI/fotret/Pasted-image-20250418130301.png" width="auto" height="auto" alt/></p>
<ul>
<li>✅ Molto scalabile e sfrutta meglio il parallelismo.</li>
<li>✅ Permette la commutazione di <strong>celle</strong> (pacchetti frammentati) → più efficienza.</li>
</ul>
<p><img src="../../../UNI/ANNO-2/RETI/fotret/Pasted-image-20250418130318.png" width="auto" height="auto" alt/></p>
<h3 id="accodamento-sulle-porte-di-ingresso"><strong>Accodamento sulle porte di ingresso</strong><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#accodamento-sulle-porte-di-ingresso" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<p>Come abbiamo visto prima i pacchetti, in un router, entrano in una porta di ingresso e vengono indirizzati verso una porta di uscita.
Può capitare però che si formino code in ingresso quando</p>
<ul>
<li>una commutazione è lenta</li>
<li>o ci sono conflitti tra più pacchetti destinati alla stessa uscita</li>
</ul>
<h5 id="-problema-hol-blocking">❌ <strong>Problema: HOL blocking</strong><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#-problema-hol-blocking" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h5>
<p>È una situazione in cui <strong>il primo pacchetto nella coda (in testa)</strong> non può essere trasferito, e <strong>impedisce anche agli altri</strong> dietro di avanzare, <strong>anche se andrebbero verso porte libere.</strong></p>
<p><img src="../../../UNI/ANNO-2/RETI/fotret/Pasted-image-20250418130500.png" width="auto" height="auto" alt/>
🔽 A sinistra:</p>
<ul>
<li>due pacchetti (datagrammi) rossi vogliono uscire dalla stessa porta di uscita</li>
<li>MA solo uno può passare, l’altro rimane bloccato</li>
<li>Il pacchetto verde, che potrebbe tranquillamente uscire da un porta di uscita LIBERA, rimane bloccato inutilmente.
👉 È questo il <strong>blocco in testa alla coda</strong>: chi è davanti blocca tutti.</li>
</ul>
<p>🔼 A destra:</p>
<ul>
<li>una volta che i pacchetti rossi sono usciti, il pacchetto verde può avanzare</li>
<li>MA è avvenuto un ritardo completamente inutile per colpa del pacchetto in testa</li>
</ul>
<h3 id="accodamento-in-uscita-importante"><strong>Accodamento in uscita (IMPORTANTE)</strong><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#accodamento-in-uscita-importante" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<p>Quando i pacchetti passano attraverso la struttura di commutazione, possono arrivare <strong>più velocemente</strong> di quanto il collegamento di uscita sia in grado di trasmetterli.
Questo crea un <strong>collo di bottiglia</strong> e richiede un meccanismo di <strong>buffering</strong>, cioè accodamento in attesa della trasmissione.</p>
<h5 id="-concetti-chiave">🎯 <strong>Concetti chiave</strong><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#-concetti-chiave" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h5>
<ol>
<li>
<p><strong>Buffering</strong>:</p>
<ul>
<li>Serve per <strong>mettere in attesa</strong> i pacchetti quando la porta di uscita è occupata.</li>
<li>Se arrivano troppi pacchetti e il buffer è pieno → si perdono pacchetti (overflow).</li>
<li>Questo porta a <strong>ritardi</strong> e <strong>perdite</strong>.</li>
</ul>
</li>
<li>
<p><strong>Drop policy (politica di scarto)</strong>:</p>
<ul>
<li>Quando il buffer è pieno, <strong>quale pacchetto scartare</strong>?</li>
<li>Esistono varie politiche (vedremo tra poco).</li>
</ul>
</li>
<li>
<p><strong>Disciplina di scheduling (o schedulazione)</strong>:</p>
<ul>
<li>Quando ci sono più pacchetti in coda, <strong>quale viene trasmesso per primo?</strong></li>
<li>Anche qui si possono applicare criteri diversi (vedremo sempre tra poco)
<img src="../../../UNI/ANNO-2/RETI/fotret/Pasted-image-20250418130700.png" width="auto" height="auto" alt/></li>
</ul>
</li>
</ol>
<h5 id="-cosa-può-succedere-se-il-buffer-non-è-ben-gestito">📉 Cosa può succedere se il buffer non è ben gestito?<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#-cosa-può-succedere-se-il-buffer-non-è-ben-gestito" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h5>
<ul>
<li><strong>Congestione</strong>: troppi pacchetti si accumulano.</li>
<li><strong>Perdita di pacchetti</strong>: il buffer si riempie e inizia a scartarli.</li>
<li><strong>Delay</strong>: i pacchetti aspettano più tempo prima di uscire → aumenta la latenza.</li>
</ul>
<p><img src="../../../UNI/ANNO-2/RETI/fotret/Pasted-image-20250418131039.png" width="auto" height="auto" alt/>
Qui se vedi i pacchetti rossi (a sinistra) entrano tutti dentro la stessa porta e se non viene gestita bene la situazione (a destra) sono cavoli!!</p>
<h4 id="quanta-memoria-di-buffer-è-necessaria">Quanta memoria di buffer è necessaria?<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#quanta-memoria-di-buffer-è-necessaria" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h4>
<h5 id="-1-regola-empirica-rfc-3439">📌 <strong>1. Regola empirica (RFC 3439):</strong><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#-1-regola-empirica-rfc-3439" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h5>
<blockquote>
<p><strong>Buffer = RTT × C</strong></p>
</blockquote>
<ul>
<li>
<p>Dove:</p>
<ul>
<li><strong>RTT</strong> è il round-trip time tipico (es. 250 ms),</li>
<li><strong>C</strong> è la capacità del collegamento (es. 10 Gbps),</li>
</ul>
</li>
<li>
<p>Esempio:</p>
<ul>
<li>Se <code>C = 10 Gbps → buffer ≈ 2.5 Gbit</code>.</li>
</ul>
</li>
<li>
<p>❗ È una <strong>regola empirica</strong>, detta anche <em>rule of thumb</em> (cioè una stima pratica, non una legge assoluta).</p>
</li>
</ul>
<h5 id="-2-raccomandazione-più-recente">📌 <strong>2. Raccomandazione più recente:</strong><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#-2-raccomandazione-più-recente" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h5>
<blockquote>
<p>Con <strong>N flussi TCP</strong> contemporanei, il buffer richiesto può essere ridotto:</p>
</blockquote>
<p><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord text"><span class="mord">Buffer</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.4103em;vertical-align:-0.538em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8723em;"><span style="top:-2.5374em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord sqrt mtight"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9323em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mtight" style="padding-left:0.833em;"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span><span style="top:-2.8923em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail mtight" style="min-width:0.853em;height:1.08em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.08em" viewBox="0 0 400000 1080" preserveAspectRatio="xMinYMin slice"><path d="M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1077em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">RTT</span><span class="mbin mtight">⋅</span><span class="mord mathnormal mtight" style="margin-right:0.07153em;">C</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.538em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></p>
<ul>
<li>Più flussi → più il carico si “distribuisce” → serve <strong>meno buffer</strong>.</li>
</ul>
<h5 id="️-attenzione-troppo-buffering-può-essere-un-problema">⚠️ Attenzione: <strong>troppo buffering può essere un problema!</strong><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#️-attenzione-troppo-buffering-può-essere-un-problema" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h5>
<h6 id="bufferbloat">Bufferbloat:<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#bufferbloat" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h6>
<p>Se c’è <strong>troppa memoria</strong>, i pacchetti si accumulano → aumenta l’<strong>RTT</strong>.</p>
<p>Questo è dannoso soprattutto:</p>
<ul>
<li>Nei <strong>router domestici</strong>,</li>
<li>Per le <strong>app real-time</strong> (come videochiamate, giochi online),</li>
<li>Per <strong>TCP</strong>, che diventa meno reattivo alla congestione.</li>
</ul>
<p>L’obiettivo moderno è</p>
<blockquote>
<p>Mantenere il collo di bottiglia <strong>pieno</strong>, ma <strong>non troppo pieno</strong>.</p>
</blockquote>
<h3 id="gestione-del-buffer">Gestione del buffer<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#gestione-del-buffer" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<p><img src="../../../UNI/ANNO-2/RETI/fotret/Pasted-image-20250418131206.png" width="auto" height="auto" alt/></p>
<p>Visto in modo astratto
<img src="../../../UNI/ANNO-2/RETI/fotret/Pasted-image-20250418131214.png" width="auto" height="auto" alt/></p>
<h5 id="-cosa-succede-se-è-pieno">🚨 <strong>Cosa succede se è pieno?</strong><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#-cosa-succede-se-è-pieno" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h5>
<h6 id="-politica-di-scarto-drop-policy">🟥 <strong>Politica di scarto (drop policy):</strong><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#-politica-di-scarto-drop-policy" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h6>
<ol>
<li>
<p><strong>Tail drop</strong> (classico):</p>
<ul>
<li>Se il buffer è pieno → <strong>si scarta il pacchetto appena arrivato</strong>.</li>
<li>È semplice, ma può causare problemi a TCP (es. molte perdite improvvise).</li>
</ul>
</li>
<li>
<p><strong>Priorità</strong>:</p>
<ul>
<li>Alcuni pacchetti hanno più “importanza” (es. voce, controllo) → si scarta il meno prioritario.</li>
</ul>
</li>
<li>
<p><strong>Marcatura</strong>:</p>
<ul>
<li>Invece di scartare subito, il router <strong>segna i pacchetti</strong> per avvisare il mittente di rallentare.</li>
<li>Per fare ciò vengono utilizzati protocolli come:
<ul>
<li><strong>ECN (Explicit Congestion Notification)</strong></li>
<li><strong>RED (Random Early Detection)</strong></li>
</ul>
</li>
</ul>
</li>
</ol>
<h3 id="algoritmi-di-schedulazione"><strong>Algoritmi di schedulazione</strong><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#algoritmi-di-schedulazione" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<p>algoritmi che decidono come gestire i pacchetti da trasmettere</p>
<h5 id="-1-fcfs--first-come-first-served-o-fifo">🔵 <strong>1. FCFS – First Come, First Served</strong> (o FIFO)<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#-1-fcfs--first-come-first-served-o-fifo" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h5>
<p><strong>📌 Cosa fa:</strong></p>
<ul>
<li>Trasmette i pacchetti <strong>nell’ordine in cui arrivano</strong> alla coda.</li>
<li>Il <strong>primo pacchetto che entra</strong> è anche il <strong>primo che esce</strong>.</li>
</ul>
<p>È molto semplice MA inutilizzabile in contesti in cui i pacchetti hanno priorità diverse.</p>
<h5 id="-2-scheduling-con-priorità">🔴 <strong>2. Scheduling con Priorità</strong><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#-2-scheduling-con-priorità" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h5>
<p><strong>📌 Cosa fa:</strong></p>
<ul>
<li>I pacchetti vengono <strong>classificati per classi di priorità</strong> (es. alta e bassa).</li>
<li>La coda con <strong>priorità più alta</strong> viene sempre servita <strong>prima</strong>.</li>
</ul>
<p><strong>⚙️ Come funziona:</strong></p>
<ul>
<li>Ogni pacchetto in arrivo viene inserito nella <strong>coda corrispondente alla sua priorità</strong>.</li>
<li>Il router <strong>cerca la prima coda non vuota</strong> (partendo da quella a priorità massima) e <strong>serve un pacchetto da lì</strong>.</li>
</ul>
<p><strong>🚫 Limiti:</strong></p>
<ul>
<li><strong>Starvation</strong>: se arrivano <strong>sempre pacchetti ad alta priorità</strong>, quelli a bassa potrebbero <strong>non uscire mai</strong>.</li>
</ul>
<p><img src="../../../UNI/ANNO-2/RETI/fotret/Pasted-image-20250418131504.png" width="auto" height="auto" alt/></p>
<p><strong>📌 Nota</strong>: All’interno di ogni coda si usa <strong>FCFS</strong>.</p>
<h5 id="-3-round-robin-rr">🔁 <strong>3. Round Robin (RR)</strong><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#-3-round-robin-rr" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h5>
<p><strong>📌 Cosa fa:</strong></p>
<ul>
<li>Il traffico è sempre <strong>classificato per classi</strong>, come nella priorità.</li>
<li>Invece di servire sempre la classe più importante, il server <strong>serve a turno</strong> ciascuna coda (una alla volta).</li>
</ul>
<p><strong>⚙️ Come funziona:</strong></p>
<ul>
<li>Scorre ciclicamente tra le code.</li>
<li>Se una coda ha pacchetti, ne trasmette <strong>uno intero</strong> e poi passa alla successiva.</li>
</ul>
<p><strong>✅ Vantaggi:</strong></p>
<ul>
<li><strong>Equo</strong>: ogni classe riceve attenzione.</li>
<li>Evita il problema dello starvation.</li>
</ul>
<p><strong>🚫 Limiti:</strong></p>
<ul>
<li>Se una classe ha più pacchetti e altre ne hanno pochi, non riesce a sfruttare bene la banda.</li>
</ul>
<p><img src="../../../UNI/ANNO-2/RETI/fotret/Pasted-image-20250418131528.png" width="auto" height="auto" alt/></p>
<h5 id="️-4-weighted-fair-queuing-wfq">⚖️ <strong>4. Weighted Fair Queuing (WFQ)</strong><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#️-4-weighted-fair-queuing-wfq" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h5>
<p><strong>📌 Cosa fa:</strong></p>
<ul>
<li>È una <strong>versione avanzata del Round Robin</strong>.</li>
<li>Ogni coda (classe) riceve una <strong>quantità di banda proporzionale a un peso assegnato</strong></li>
</ul>
<p><strong>⚙️ Formula:</strong>
<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord text"><span class="mord">Quota per classe </span></span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.3787em;vertical-align:-0.6672em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7115em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mop mtight"><span class="mop op-symbol small-op mtight" style="position:relative;top:0em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1496em;"><span style="top:-2.1786em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4603em;"><span></span></span></span></span></span></span><span class="mspace mtight" style="margin-right:0.1952em;"></span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3281em;"><span style="top:-2.357em;margin-left:-0.0269em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2819em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.4101em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3281em;"><span style="top:-2.357em;margin-left:-0.0269em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6672em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>
dove <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> è il peso della classe i.</p>
<p><strong>✅ Vantaggi:</strong></p>
<ul>
<li><strong>Più flessibile</strong>: si possono garantire <strong>quote minime di banda</strong>.</li>
<li>Supporta <strong>QoS (Quality of Service)</strong> per servizi critici.</li>
</ul>
<p><img src="../../../UNI/ANNO-2/RETI/fotret/Pasted-image-20250418131600.png" width="auto" height="auto" alt/></p>
<p><strong>📌 Esempio:</strong></p>
<ul>
<li>Se hai 3 code con pesi 5, 3 e 2, allora riceveranno rispettivamente il 50%, 30% e 20% della banda (più o meno).</li>
</ul>
<blockquote class="callout tip" data-callout="tip">
<div class="callout-title">
                  <div class="callout-icon"></div>
                  <div class="callout-title-inner"><p>Riassunto delle ultime tre slide </p></div>
                  
                </div>
<div class="callout-content">
<ul>
<li><strong>Net neutrality</strong>: principio secondo cui gli ISP devono trattare tutto il traffico Internet in modo equo, senza blocchi, rallentamenti o priorità a pagamento.</li>
<li><strong>USA</strong>: nel 2015 la FCC impone regole rigide; nel 2017 vengono annullate, puntando solo sulla trasparenza degli ISP.</li>
<li><strong>Aspetto legale</strong>: classificare un ISP come servizio di telecomunicazione o informazione cambia il tipo di regolamentazione applicabile.</li>
</ul>
</div>
</blockquote>
<hr/>
<h2 id="internet-al-livello-di-rete">INTERNET AL LIVELLO DI RETE<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#internet-al-livello-di-rete" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<p><img src="../../../UNI/ANNO-2/RETI/fotret/Pasted-image-20250418131725.png" width="auto" height="auto" alt/></p>
<h4 id="-formato-dei-datagrammi-ip"><strong>🔧 Formato dei datagrammi IP</strong><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#-formato-dei-datagrammi-ip" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h4>
<p><img src="../../../UNI/ANNO-2/RETI/fotret/Pasted-image-20250418131749.png" width="auto" height="auto" alt/></p>
<h3 id="-frammentazione-dei-datagrammi-ip">🧩 <strong>Frammentazione dei datagrammi IP</strong><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#-frammentazione-dei-datagrammi-ip" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<h5 id="-cosè-la-frammentazione">🧱 <strong>Cos’è la frammentazione?</strong><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#-cosè-la-frammentazione" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h5>
<p>Quando un datagramma IP è <strong>troppo grande</strong> per essere trasportato su un collegamento di rete (ossia supere l’<em><strong>MTU</strong></em> del link) viene suddiviso in pezzi più piccoli chiamati <strong>frammenti</strong>.</p>
<h5 id="️-come-funziona-la-frammentazione">✂️ <strong>Come funziona la frammentazione</strong><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#️-come-funziona-la-frammentazione" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h5>
<ol>
<li>
<p>Un datagramma IP (es. da 4000 byte) deve attraversare un link con MTU da 1500 byte.</p>
</li>
<li>
<p>Viene diviso in frammenti <strong>sufficientemente piccoli</strong> per entrare in un frame (tipicamente in blocchi da 1480 byte di dati + header IP).</p>
</li>
<li>
<p>Ogni frammento riceve un’intestazione <strong>quasi identica</strong> all’originale, ma con:</p>
<ul>
<li>lo stesso <strong>identificatore</strong></li>
<li><strong>flag</strong> per indicare se è l’ultimo frammento</li>
<li><strong>offset</strong> per indicare dove si inserisce nel datagramma completo</li>
</ul>
</li>
</ol>
<h5 id="-riassociazione-riassemblaggio">🧩 <strong>Riassociazione (riassemblaggio)</strong><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#-riassociazione-riassemblaggio" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h5>
<ul>
<li>I frammenti <strong>non vengono ricomposti nei router</strong>, ma <strong>solo dal destinatario finale</strong>.</li>
<li>Questo è importante perché consente <strong>trattamento indipendente</strong> dei frammenti nei router intermedi.</li>
</ul>
<h4 id="esempio-1">ESEMPIO<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#esempio-1" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h4>
<p><img src="../../../UNI/ANNO-2/RETI/fotret/Pasted-image-20250418131923.png" width="auto" height="auto" alt/></p>
<p>Spiegazione CHATGPT
<img src="../../../UNI/ANNO-2/RETI/fotret/Pasted-image-20250418131942.png" width="auto" height="auto" alt/></p>
<p><img src="../../../UNI/ANNO-2/RETI/fotret/Pasted-image-20250418131952.png" width="auto" height="auto" alt/></p>
<h3 id="-frammentazione-e-riassemblaggio-ip--oggi">🔚 <strong>Frammentazione e Riassemblaggio IP – oggi</strong><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#-frammentazione-e-riassemblaggio-ip--oggi" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<h5 id="️-deprecato-in-ipv6">🗑️ <strong>Deprecato in IPv6</strong><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#️-deprecato-in-ipv6" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h5>
<ul>
<li>La <strong>frammentazione nei router</strong> è <strong>stata eliminata</strong> con IPv6.</li>
<li>Solo l’<strong>host mittente</strong> può frammentare, <strong>non più i router intermedi</strong>.</li>
<li>Motivo: evitare <strong>complessità, overhead</strong> e vulnerabilità nei router.</li>
</ul>
<h3 id="-path-mtu-discovery-pmtud">🧭 <strong>Path MTU Discovery (PMTUD)</strong><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#-path-mtu-discovery-pmtud" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<h5 id="-obiettivo-1">🎯 Obiettivo<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#-obiettivo-1" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h5>
<p>Trovare la <strong>MTU massima lungo il percorso</strong> dal mittente al destinatario <strong>senza frammentare</strong>.</p>
<h5 id="️-come-funziona">⚙️ Come funziona<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#️-come-funziona" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h5>
<ol>
<li>
<p>Il mittente invia pacchetti con il <strong>bit DF (Don’t Fragment)</strong> impostato a <strong>1</strong>.</p>
</li>
<li>
<p>Se un router incontra un collegamento con MTU troppo grande:</p>
<ul>
<li><strong>non frammenta</strong>, ma <strong>scarta</strong> il pacchetto.</li>
<li>invia un <strong>messaggio ICMP “Destination Unreachable: Fragmentation Required”</strong> al mittente.</li>
</ul>
</li>
<li>
<p>Il mittente <strong>riduce la dimensione del pacchetto</strong> e riprova.</p>
</li>
</ol>
<blockquote class="callout problem" data-callout="problem">
<div class="callout-title">
                  <div class="callout-icon"></div>
                  <div class="callout-title-inner"><p>ICMP bloccato </p></div>
                  
                </div>
<div class="callout-content">
<p>Molti firewall o router <strong>bloccano i messaggi ICMP</strong> per motivi di sicurezza.</p>
<ul>
<li>Questo rende il PMTUD <strong>inaffidabile</strong>:
<ul>
<li>Il mittente <strong>non riceve l’avviso</strong> e continua a inviare pacchetti troppo grandi.</li>
<li>Si verificano <strong>ritrasmissioni inutili</strong> e perdita di performance.</li>
</ul>
</li>
</ul>
</div>
</blockquote>
<h5 id="-alternative-più-robuste-mitigazioni">🔄 <strong>Alternative più robuste (mitigazioni):</strong><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#-alternative-più-robuste-mitigazioni" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h5>
<ul>
<li>Durante l’handshake TCP, i dispositivi possono <strong>negoziare il valore MSS (Maximum Segment Size)</strong> per evitare l’invio di pacchetti troppo grandi.
<ul>
<li>Si agisce <strong>all’inizio della connessione</strong>, rendendo la comunicazione più stabile.</li>
</ul>
</li>
</ul>
<h3 id="-indirizzamento-ip--introduzione">📍 <strong>Indirizzamento IP – Introduzione</strong><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#-indirizzamento-ip--introduzione" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<p>Come già sappiamo, un indirizzo IP è un <strong>identificatore univoco</strong> a <strong>32 bit</strong>, assegnato a ogni <strong>interfaccia</strong> di rete.</p>
<p>Un’interfaccia invece, è un <strong>punto di connessione fisico o logico</strong> attraverso cui un dispositivo (host o router) si collega a una rete.</p>
<ul>
<li>Ogni <strong>interfaccia ha un indirizzo IP</strong>.</li>
</ul>
<p><img src="../../../UNI/ANNO-2/RETI/fotret/Pasted-image-20250418132322.png" width="auto" height="auto" alt/></p>
<blockquote class="callout question" data-callout="question">
<div class="callout-title">
                  <div class="callout-icon"></div>
                  <div class="callout-title-inner"><p>Come si collegano effettivamente le interfacce IP? </p></div>
                  
                </div>
<div class="callout-content">
<p><img src="../../../UNI/ANNO-2/RETI/fotret/Pasted-image-20250418132356.png" width="auto" height="auto" alt/></p>
</div>
</blockquote>
<p>Però, per ora, non c’è bisogno di preoccuparsi di come sono fisicamente collegate le interfacce (lo vedremo a livello di collegamento).</p>
<h3 id="sottoreti-subnet"><strong>Sottoreti (subnet)</strong><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#sottoreti-subnet" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<h5 id="-cosè-una-sottorete-subnet">🥅 <strong>Cos’è una sottorete (subnet)?</strong><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#-cosè-una-sottorete-subnet" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h5>
<p>Una <strong>sottorete</strong> è un gruppo di dispositivi (host e router) che possono comunicare <strong>tra loro direttamente</strong>, senza dover passare attraverso un router. Questo è importante per ridurre traffico e latenza, e per gestire meglio le risorse.</p>
<p><img src="../../../UNI/ANNO-2/RETI/fotret/Pasted-image-20250418132452.png" width="auto" height="auto" alt/>
questa rete è composta da 3 sottoreti</p>
<p>📌 <strong>In pratica</strong>: tutti i dispositivi collegati allo stesso switch (fisico o virtuale) e con indirizzi IP simili fanno parte della stessa sottorete.</p>
<h5 id="struttura-di-un-indirizzo-ip"><strong>🔧Struttura di un indirizzo IP</strong><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#struttura-di-un-indirizzo-ip" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h5>
<p>Un <strong>indirizzo IP</strong> è lungo <strong>32 bit</strong> ed è composto da due parti:</p>
<ol>
<li><strong>Parte di rete (sottorete)</strong>: identifica a quale rete appartiene il dispositivo.</li>
<li><strong>Parte dell’host</strong>: identifica il singolo dispositivo dentro quella rete.</li>
</ol>
<h5 id="️-come-si-creano-le-sottoreti">🏗️ <strong>Come si creano le sottoreti?</strong><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#️-come-si-creano-le-sottoreti" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h5>
<p>La <strong>procedura</strong> consiste nello “spezzare” una rete più grande in reti più piccole.</p>
<p>Si fa “scollegando” logicamente le interfacce, così da creare “isole” di dispositivi separati tra loro dai router.</p>
<p><img src="../../../UNI/ANNO-2/RETI/fotret/Pasted-image-20250418132537.png" width="auto" height="auto" alt/></p>
<p>📌 Le reti così ottenute:</p>
<ul>
<li>hanno indirizzi IP simili (es. 223.1.1.1, 223.1.1.2… → stessa subnet),</li>
<li><strong>sono isolate</strong> l’una dall’altra,</li>
<li><strong>comunicano tramite router</strong>.</li>
</ul>
<h3 id="esempio-con-una-rete-molto-più-grande">Esempio con una rete molto più grande<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#esempio-con-una-rete-molto-più-grande" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<p><img src="../../../UNI/ANNO-2/RETI/fotret/Pasted-image-20250418132607.png" width="auto" height="auto" alt/></p>
<h3 id="indirizzamento-ip-con-cidr">Indirizzamento IP con CIDR<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#indirizzamento-ip-con-cidr" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<p>Il <strong>CIDR</strong> è un metodo moderno per rappresentare <strong>indirizzi IP</strong> e <strong>sottoreti</strong> senza basarsi sulle <strong>classi tradizionali (A, B, C)</strong>. È molto più flessibile, perché permette di scegliere <strong>una lunghezza arbitraria per la parte di rete</strong> dell’indirizzo.</p>
<h5 id="-formato-cidr">📌 <strong>Formato CIDR</strong><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#-formato-cidr" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h5>
<p>L’indirizzo è scritto così:</p>
<pre><code>a.b.c.d/x
</code></pre>
<p>dove</p>
<ul>
<li><code>a.b.c.d</code> → indirizzo IP.</li>
<li><code>/x</code> → indica <strong>quanti bit</strong> iniziali appartengono alla <strong>parte di rete (sottorete)</strong>.</li>
</ul>
<p>Esempio:<br/>
<code>200.23.16.0/23</code> → i <strong>primi 23 bit</strong> identificano la sottorete, i restanti bit sono per l’host.
<img src="../../../UNI/ANNO-2/RETI/fotret/Pasted-image-20250418132640.png" width="auto" height="auto" alt/></p>
<h4 id="metodo-vecchio">Metodo vecchio<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#metodo-vecchio" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h4>
<p><img src="../../../UNI/ANNO-2/RETI/fotret/Pasted-image-20250418132714.png" width="auto" height="auto" alt/></p>
<p><img src="../../../UNI/ANNO-2/RETI/fotret/Pasted-image-20250418132730.png" width="auto" height="auto" alt/></p></article><hr/><div class="page-footer"></div></div><div class="right sidebar"><div class="graph"><h3>Graph View</h3><div class="graph-outer"><div class="graph-container" data-cfg="{&quot;drag&quot;:true,&quot;zoom&quot;:true,&quot;depth&quot;:1,&quot;scale&quot;:1.1,&quot;repelForce&quot;:0.5,&quot;centerForce&quot;:0.3,&quot;linkDistance&quot;:30,&quot;fontSize&quot;:0.6,&quot;opacityScale&quot;:1,&quot;showTags&quot;:true,&quot;removeTags&quot;:[],&quot;focusOnHover&quot;:false,&quot;enableRadial&quot;:false}"></div><button class="global-graph-icon" aria-label="Global Graph"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 55 55" fill="currentColor" xml:space="preserve"><path d="M49,0c-3.309,0-6,2.691-6,6c0,1.035,0.263,2.009,0.726,2.86l-9.829,9.829C32.542,17.634,30.846,17,29,17
                s-3.542,0.634-4.898,1.688l-7.669-7.669C16.785,10.424,17,9.74,17,9c0-2.206-1.794-4-4-4S9,6.794,9,9s1.794,4,4,4
                c0.74,0,1.424-0.215,2.019-0.567l7.669,7.669C21.634,21.458,21,23.154,21,25s0.634,3.542,1.688,4.897L10.024,42.562
                C8.958,41.595,7.549,41,6,41c-3.309,0-6,2.691-6,6s2.691,6,6,6s6-2.691,6-6c0-1.035-0.263-2.009-0.726-2.86l12.829-12.829
                c1.106,0.86,2.44,1.436,3.898,1.619v10.16c-2.833,0.478-5,2.942-5,5.91c0,3.309,2.691,6,6,6s6-2.691,6-6c0-2.967-2.167-5.431-5-5.91
                v-10.16c1.458-0.183,2.792-0.759,3.898-1.619l7.669,7.669C41.215,39.576,41,40.26,41,41c0,2.206,1.794,4,4,4s4-1.794,4-4
                s-1.794-4-4-4c-0.74,0-1.424,0.215-2.019,0.567l-7.669-7.669C36.366,28.542,37,26.846,37,25s-0.634-3.542-1.688-4.897l9.665-9.665
                C46.042,11.405,47.451,12,49,12c3.309,0,6-2.691,6-6S52.309,0,49,0z M11,9c0-1.103,0.897-2,2-2s2,0.897,2,2s-0.897,2-2,2
                S11,10.103,11,9z M6,51c-2.206,0-4-1.794-4-4s1.794-4,4-4s4,1.794,4,4S8.206,51,6,51z M33,49c0,2.206-1.794,4-4,4s-4-1.794-4-4
                s1.794-4,4-4S33,46.794,33,49z M29,31c-3.309,0-6-2.691-6-6s2.691-6,6-6s6,2.691,6,6S32.309,31,29,31z M47,41c0,1.103-0.897,2-2,2
                s-2-0.897-2-2s0.897-2,2-2S47,39.897,47,41z M49,10c-2.206,0-4-1.794-4-4s1.794-4,4-4s4,1.794,4,4S51.206,10,49,10z"></path></svg></button></div><div class="global-graph-outer"><div class="global-graph-container" data-cfg="{&quot;drag&quot;:true,&quot;zoom&quot;:true,&quot;depth&quot;:-1,&quot;scale&quot;:0.9,&quot;repelForce&quot;:0.5,&quot;centerForce&quot;:0.2,&quot;linkDistance&quot;:30,&quot;fontSize&quot;:0.6,&quot;opacityScale&quot;:1,&quot;showTags&quot;:true,&quot;removeTags&quot;:[],&quot;focusOnHover&quot;:true,&quot;enableRadial&quot;:true}"></div></div></div><div class="toc desktop-only"><button type="button" class="toc-header" aria-controls="toc-169" aria-expanded="true"><h3>Table of Contents</h3><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="fold"><polyline points="6 9 12 15 18 9"></polyline></svg></button><ul id="list-1" class="toc-content overflow"><li class="depth-0"><a href="#-cosa-fa-il-livello-di-rete" data-for="-cosa-fa-il-livello-di-rete">🧭 Cosa fa il livello di rete?</a></li><li class="depth-1"><a href="#-le-due-funzioni-chiave-del-livello-di-rete" data-for="-le-due-funzioni-chiave-del-livello-di-rete">🚦 Le due funzioni chiave del livello di rete:</a></li><li class="depth-1"><a href="#le-due-parti-del-livello-di-rete" data-for="le-due-parti-del-livello-di-rete">Le due parti del livello di rete</a></li><li class="depth-1"><a href="#software-defined-networking-sdn" data-for="software-defined-networking-sdn">Software-Defined Networking (SDN)</a></li><li class="depth-1"><a href="#-che-tipo-di-servizio-offre-la-rete-al-trasporto-dei-datagrammi" data-for="-che-tipo-di-servizio-offre-la-rete-al-trasporto-dei-datagrammi">🧩 Che tipo di servizio offre la rete al trasporto dei datagrammi?</a></li><li class="depth-0"><a href="#router" data-for="router">Router</a></li><li class="depth-1"><a href="#porte-di-ingresso" data-for="porte-di-ingresso">Porte di ingresso</a></li><li class="depth-1"><a href="#destinazione-basata-sullindirizzo-di-destinazione" data-for="destinazione-basata-sullindirizzo-di-destinazione">Destinazione basata sull’indirizzo di destinazione</a></li><li class="depth-1"><a href="#tcam--priority-encoder" data-for="tcam--priority-encoder">TCAM + Priority Encoder</a></li><li class="depth-0"><a href="#️-struttura-di-commutazione-switching-fabric" data-for="️-struttura-di-commutazione-switching-fabric">🏗️ Struttura di commutazione (switching fabric)</a></li><li class="depth-1"><a href="#accodamento-sulle-porte-di-ingresso" data-for="accodamento-sulle-porte-di-ingresso">Accodamento sulle porte di ingresso</a></li><li class="depth-1"><a href="#accodamento-in-uscita-importante" data-for="accodamento-in-uscita-importante">Accodamento in uscita (IMPORTANTE)</a></li><li class="depth-1"><a href="#gestione-del-buffer" data-for="gestione-del-buffer">Gestione del buffer</a></li><li class="depth-1"><a href="#algoritmi-di-schedulazione" data-for="algoritmi-di-schedulazione">Algoritmi di schedulazione</a></li><li class="depth-0"><a href="#internet-al-livello-di-rete" data-for="internet-al-livello-di-rete">INTERNET AL LIVELLO DI RETE</a></li><li class="depth-1"><a href="#-frammentazione-dei-datagrammi-ip" data-for="-frammentazione-dei-datagrammi-ip">🧩 Frammentazione dei datagrammi IP</a></li><li class="depth-1"><a href="#-frammentazione-e-riassemblaggio-ip--oggi" data-for="-frammentazione-e-riassemblaggio-ip--oggi">🔚 Frammentazione e Riassemblaggio IP – oggi</a></li><li class="depth-1"><a href="#-path-mtu-discovery-pmtud" data-for="-path-mtu-discovery-pmtud">🧭 Path MTU Discovery (PMTUD)</a></li><li class="depth-1"><a href="#-indirizzamento-ip--introduzione" data-for="-indirizzamento-ip--introduzione">📍 Indirizzamento IP – Introduzione</a></li><li class="depth-1"><a href="#sottoreti-subnet" data-for="sottoreti-subnet">Sottoreti (subnet)</a></li><li class="depth-1"><a href="#esempio-con-una-rete-molto-più-grande" data-for="esempio-con-una-rete-molto-più-grande">Esempio con una rete molto più grande</a></li><li class="depth-1"><a href="#indirizzamento-ip-con-cidr" data-for="indirizzamento-ip-con-cidr">Indirizzamento IP con CIDR</a></li><li class="overflow-end"></li></ul></div><div class="backlinks"><h3>Backlinks</h3><ul id="list-2" class="overflow"><li><a href="../../../UNI/ANNO-2/RETI/INDICE-RETI" class="internal">INDICE RETI</a></li><li><a href="../../../UNI/ANNO-2/RETI/RETI-LEZ.12" class="internal">RETI LEZ.12</a></li><li class="overflow-end"></li></ul></div></div><footer class><p>Created with <a href="https://quartz.jzhao.xyz/">Quartz v4.5.2</a> © 2025</p><ul><li><a href="https://github.com/jackyzha0/quartz">GitHub</a></li><li><a href="https://discord.gg/cRFFHYye7t">Discord Community</a></li></ul></footer></div></div></body><script type="application/javascript">function n(){let t=this.parentElement;t.classList.toggle("is-collapsed");let e=t.getElementsByClassName("callout-content")[0];if(!e)return;let l=t.classList.contains("is-collapsed");e.style.gridTemplateRows=l?"0fr":"1fr"}function c(){let t=document.getElementsByClassName("callout is-collapsible");for(let e of t){let l=e.getElementsByClassName("callout-title")[0],s=e.getElementsByClassName("callout-content")[0];if(!l||!s)continue;l.addEventListener("click",n),window.addCleanup(()=>l.removeEventListener("click",n));let o=e.classList.contains("is-collapsed");s.style.gridTemplateRows=o?"0fr":"1fr"}}document.addEventListener("nav",c);
</script><script type="module">function f(i,e){if(!i)return;function r(o){o.target===this&&(o.preventDefault(),o.stopPropagation(),e())}function t(o){o.key.startsWith("Esc")&&(o.preventDefault(),e())}i?.addEventListener("click",r),window.addCleanup(()=>i?.removeEventListener("click",r)),document.addEventListener("keydown",t),window.addCleanup(()=>document.removeEventListener("keydown",t))}function y(i){for(;i.firstChild;)i.removeChild(i.firstChild)}var h=class{constructor(e,r){this.container=e;this.content=r;this.setupEventListeners(),this.setupNavigationControls(),this.resetTransform()}isDragging=!1;startPan={x:0,y:0};currentPan={x:0,y:0};scale=1;MIN_SCALE=.5;MAX_SCALE=3;cleanups=[];setupEventListeners(){let e=this.onMouseDown.bind(this),r=this.onMouseMove.bind(this),t=this.onMouseUp.bind(this),o=this.resetTransform.bind(this);this.container.addEventListener("mousedown",e),document.addEventListener("mousemove",r),document.addEventListener("mouseup",t),window.addEventListener("resize",o),this.cleanups.push(()=>this.container.removeEventListener("mousedown",e),()=>document.removeEventListener("mousemove",r),()=>document.removeEventListener("mouseup",t),()=>window.removeEventListener("resize",o))}cleanup(){for(let e of this.cleanups)e()}setupNavigationControls(){let e=document.createElement("div");e.className="mermaid-controls";let r=this.createButton("+",()=>this.zoom(.1)),t=this.createButton("-",()=>this.zoom(-.1)),o=this.createButton("Reset",()=>this.resetTransform());e.appendChild(t),e.appendChild(o),e.appendChild(r),this.container.appendChild(e)}createButton(e,r){let t=document.createElement("button");return t.textContent=e,t.className="mermaid-control-button",t.addEventListener("click",r),window.addCleanup(()=>t.removeEventListener("click",r)),t}onMouseDown(e){e.button===0&&(this.isDragging=!0,this.startPan={x:e.clientX-this.currentPan.x,y:e.clientY-this.currentPan.y},this.container.style.cursor="grabbing")}onMouseMove(e){this.isDragging&&(e.preventDefault(),this.currentPan={x:e.clientX-this.startPan.x,y:e.clientY-this.startPan.y},this.updateTransform())}onMouseUp(){this.isDragging=!1,this.container.style.cursor="grab"}zoom(e){let r=Math.min(Math.max(this.scale+e,this.MIN_SCALE),this.MAX_SCALE),t=this.content.getBoundingClientRect(),o=t.width/2,n=t.height/2,c=r-this.scale;this.currentPan.x-=o*c,this.currentPan.y-=n*c,this.scale=r,this.updateTransform()}updateTransform(){this.content.style.transform=`translate(${this.currentPan.x}px, ${this.currentPan.y}px) scale(${this.scale})`}resetTransform(){this.scale=1;let e=this.content.querySelector("svg");this.currentPan={x:e.getBoundingClientRect().width/2,y:e.getBoundingClientRect().height/2},this.updateTransform()}},C=["--secondary","--tertiary","--gray","--light","--lightgray","--highlight","--dark","--darkgray","--codeFont"],E;document.addEventListener("nav",async()=>{let e=document.querySelector(".center").querySelectorAll("code.mermaid");if(e.length===0)return;E||=await import("https://cdnjs.cloudflare.com/ajax/libs/mermaid/11.4.0/mermaid.esm.min.mjs");let r=E.default,t=new WeakMap;for(let n of e)t.set(n,n.innerText);async function o(){for(let s of e){s.removeAttribute("data-processed");let a=t.get(s);a&&(s.innerHTML=a)}let n=C.reduce((s,a)=>(s[a]=window.getComputedStyle(document.documentElement).getPropertyValue(a),s),{}),c=document.documentElement.getAttribute("saved-theme")==="dark";r.initialize({startOnLoad:!1,securityLevel:"loose",theme:c?"dark":"base",themeVariables:{fontFamily:n["--codeFont"],primaryColor:n["--light"],primaryTextColor:n["--darkgray"],primaryBorderColor:n["--tertiary"],lineColor:n["--darkgray"],secondaryColor:n["--secondary"],tertiaryColor:n["--tertiary"],clusterBkg:n["--light"],edgeLabelBackground:n["--highlight"]}}),await r.run({nodes:e})}await o(),document.addEventListener("themechange",o),window.addCleanup(()=>document.removeEventListener("themechange",o));for(let n=0;n<e.length;n++){let v=function(){let g=l.querySelector("#mermaid-space"),m=l.querySelector(".mermaid-content");if(!m)return;y(m);let w=c.querySelector("svg").cloneNode(!0);m.appendChild(w),l.classList.add("active"),g.style.cursor="grab",u=new h(g,m)},M=function(){l.classList.remove("active"),u?.cleanup(),u=null},c=e[n],s=c.parentElement,a=s.querySelector(".clipboard-button"),d=s.querySelector(".expand-button"),p=window.getComputedStyle(a),L=a.offsetWidth+parseFloat(p.marginLeft||"0")+parseFloat(p.marginRight||"0");d.style.right=`calc(${L}px + 0.3rem)`,s.prepend(d);let l=s.querySelector("#mermaid-container");if(!l)return;let u=null;d.addEventListener("click",v),f(l,M),window.addCleanup(()=>{u?.cleanup(),d.removeEventListener("click",v)})}});
</script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/copy-tex.min.js" type="application/javascript"></script><script src="../../../postscript.js" type="module"></script></html>