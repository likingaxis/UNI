<!DOCTYPE html>
<html lang="en" dir="ltr"><head><title>RETI LEZ.10</title><meta charset="utf-8"/><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com"/><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Schibsted Grotesk:wght@400;700&amp;family=Source Sans Pro:ital,wght@0,400;0,600;1,400;1,600&amp;family=IBM Plex Mono:wght@400;600&amp;display=swap"/><link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin="anonymous"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="og:site_name" content="Quartz 4"/><meta property="og:title" content="RETI LEZ.10"/><meta property="og:type" content="website"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="RETI LEZ.10"/><meta name="twitter:description" content="TCP È un protocollo di trasporto punto a punto crea una connessione diretta (1,1) tra mittente e destinatario I dati sono trasmessi come un unico flusso di byte sicuri, i byte devono arrivare correttamente e senza perdite Full duplex, ovvero connessione bidirezionale simultanea MSS è un dato che rap..."/><meta property="og:description" content="TCP È un protocollo di trasporto punto a punto crea una connessione diretta (1,1) tra mittente e destinatario I dati sono trasmessi come un unico flusso di byte sicuri, i byte devono arrivare correttamente e senza perdite Full duplex, ovvero connessione bidirezionale simultanea MSS è un dato che rap..."/><meta property="og:image:alt" content="TCP È un protocollo di trasporto punto a punto crea una connessione diretta (1,1) tra mittente e destinatario I dati sono trasmessi come un unico flusso di byte sicuri, i byte devono arrivare correttamente e senza perdite Full duplex, ovvero connessione bidirezionale simultanea MSS è un dato che rap..."/><meta property="twitter:domain" content="quartz.jzhao.xyz"/><meta property="og:url" content="https://quartz.jzhao.xyz/UNI/ANNO-2/RETI/RETI-LEZ.10"/><meta property="twitter:url" content="https://quartz.jzhao.xyz/UNI/ANNO-2/RETI/RETI-LEZ.10"/><link rel="icon" href="../../../static/icon.png"/><meta name="description" content="TCP È un protocollo di trasporto punto a punto crea una connessione diretta (1,1) tra mittente e destinatario I dati sono trasmessi come un unico flusso di byte sicuri, i byte devono arrivare correttamente e senza perdite Full duplex, ovvero connessione bidirezionale simultanea MSS è un dato che rap..."/><meta name="generator" content="Quartz"/><link href="../../../index.css" rel="stylesheet" type="text/css" spa-preserve/><style>.expand-button {
  position: absolute;
  display: flex;
  float: right;
  padding: 0.4rem;
  margin: 0.3rem;
  right: 0;
  color: var(--gray);
  border-color: var(--dark);
  background-color: var(--light);
  border: 1px solid;
  border-radius: 5px;
  opacity: 0;
  transition: 0.2s;
}
.expand-button > svg {
  fill: var(--light);
  filter: contrast(0.3);
}
.expand-button:hover {
  cursor: pointer;
  border-color: var(--secondary);
}
.expand-button:focus {
  outline: 0;
}

pre:hover > .expand-button {
  opacity: 1;
  transition: 0.2s;
}

#mermaid-container {
  position: fixed;
  contain: layout;
  z-index: 999;
  left: 0;
  top: 0;
  width: 100vw;
  height: 100vh;
  overflow: hidden;
  display: none;
  backdrop-filter: blur(4px);
  background: rgba(0, 0, 0, 0.5);
}
#mermaid-container.active {
  display: inline-block;
}
#mermaid-container > #mermaid-space {
  border: 1px solid var(--lightgray);
  background-color: var(--light);
  border-radius: 5px;
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  height: 80vh;
  width: 80vw;
  overflow: hidden;
}
#mermaid-container > #mermaid-space > .mermaid-content {
  padding: 2rem;
  position: relative;
  transform-origin: 0 0;
  transition: transform 0.1s ease;
  overflow: visible;
  min-height: 200px;
  min-width: 200px;
}
#mermaid-container > #mermaid-space > .mermaid-content pre {
  margin: 0;
  border: none;
}
#mermaid-container > #mermaid-space > .mermaid-content svg {
  max-width: none;
  height: auto;
}
#mermaid-container > #mermaid-space > .mermaid-controls {
  position: absolute;
  bottom: 20px;
  right: 20px;
  display: flex;
  gap: 8px;
  padding: 8px;
  background: var(--light);
  border: 1px solid var(--lightgray);
  border-radius: 6px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  z-index: 2;
}
#mermaid-container > #mermaid-space > .mermaid-controls .mermaid-control-button {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 32px;
  height: 32px;
  padding: 0;
  border: 1px solid var(--lightgray);
  background: var(--light);
  color: var(--dark);
  border-radius: 4px;
  cursor: pointer;
  font-size: 16px;
  font-family: var(--bodyFont);
  transition: all 0.2s ease;
}
#mermaid-container > #mermaid-space > .mermaid-controls .mermaid-control-button:hover {
  background: var(--lightgray);
}
#mermaid-container > #mermaid-space > .mermaid-controls .mermaid-control-button:active {
  transform: translateY(1px);
}
#mermaid-container > #mermaid-space > .mermaid-controls .mermaid-control-button:nth-child(2) {
  width: auto;
  padding: 0 12px;
  font-size: 14px;
}
/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxMdWNhXFxEZXNrdG9wXFxVTkkgTlVPVk9cXHF1YXJ0elxccXVhcnR6XFxjb21wb25lbnRzXFxzdHlsZXMiLCJzb3VyY2VzIjpbIm1lcm1haWQuaW5saW5lLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTs7QUFFQTtFQUNFO0VBQ0E7O0FBR0Y7RUFDRTtFQUNBOztBQUdGO0VBQ0U7OztBQUtGO0VBQ0U7RUFDQTs7O0FBSUo7RUFDRTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBOztBQUVBO0VBQ0U7O0FBR0Y7RUFDRTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTs7QUFFQTtFQUNFO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBOztBQUVBO0VBQ0U7RUFDQTs7QUFHRjtFQUNFO0VBQ0E7O0FBSUo7RUFDRTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBOztBQUVBO0VBQ0U7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTs7QUFFQTtFQUNFOztBQUdGO0VBQ0U7O0FBSUY7RUFDRTtFQUNBO0VBQ0EiLCJzb3VyY2VzQ29udGVudCI6WyIuZXhwYW5kLWJ1dHRvbiB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxvYXQ6IHJpZ2h0O1xuICBwYWRkaW5nOiAwLjRyZW07XG4gIG1hcmdpbjogMC4zcmVtO1xuICByaWdodDogMDsgLy8gTk9URTogcmlnaHQgd2lsbCBiZSBzZXQgaW4gbWVybWFpZC5pbmxpbmUudHNcbiAgY29sb3I6IHZhcigtLWdyYXkpO1xuICBib3JkZXItY29sb3I6IHZhcigtLWRhcmspO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1saWdodCk7XG4gIGJvcmRlcjogMXB4IHNvbGlkO1xuICBib3JkZXItcmFkaXVzOiA1cHg7XG4gIG9wYWNpdHk6IDA7XG4gIHRyYW5zaXRpb246IDAuMnM7XG5cbiAgJiA+IHN2ZyB7XG4gICAgZmlsbDogdmFyKC0tbGlnaHQpO1xuICAgIGZpbHRlcjogY29udHJhc3QoMC4zKTtcbiAgfVxuXG4gICY6aG92ZXIge1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICBib3JkZXItY29sb3I6IHZhcigtLXNlY29uZGFyeSk7XG4gIH1cblxuICAmOmZvY3VzIHtcbiAgICBvdXRsaW5lOiAwO1xuICB9XG59XG5cbnByZSB7XG4gICY6aG92ZXIgPiAuZXhwYW5kLWJ1dHRvbiB7XG4gICAgb3BhY2l0eTogMTtcbiAgICB0cmFuc2l0aW9uOiAwLjJzO1xuICB9XG59XG5cbiNtZXJtYWlkLWNvbnRhaW5lciB7XG4gIHBvc2l0aW9uOiBmaXhlZDtcbiAgY29udGFpbjogbGF5b3V0O1xuICB6LWluZGV4OiA5OTk7XG4gIGxlZnQ6IDA7XG4gIHRvcDogMDtcbiAgd2lkdGg6IDEwMHZ3O1xuICBoZWlnaHQ6IDEwMHZoO1xuICBvdmVyZmxvdzogaGlkZGVuO1xuICBkaXNwbGF5OiBub25lO1xuICBiYWNrZHJvcC1maWx0ZXI6IGJsdXIoNHB4KTtcbiAgYmFja2dyb3VuZDogcmdiYSgwLCAwLCAwLCAwLjUpO1xuXG4gICYuYWN0aXZlIHtcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gIH1cblxuICAmID4gI21lcm1haWQtc3BhY2Uge1xuICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWxpZ2h0Z3JheSk7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tbGlnaHQpO1xuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcbiAgICBwb3NpdGlvbjogZml4ZWQ7XG4gICAgdG9wOiA1MCU7XG4gICAgbGVmdDogNTAlO1xuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpO1xuICAgIGhlaWdodDogODB2aDtcbiAgICB3aWR0aDogODB2dztcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xuXG4gICAgJiA+IC5tZXJtYWlkLWNvbnRlbnQge1xuICAgICAgcGFkZGluZzogMnJlbTtcbiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgIHRyYW5zZm9ybS1vcmlnaW46IDAgMDtcbiAgICAgIHRyYW5zaXRpb246IHRyYW5zZm9ybSAwLjFzIGVhc2U7XG4gICAgICBvdmVyZmxvdzogdmlzaWJsZTtcbiAgICAgIG1pbi1oZWlnaHQ6IDIwMHB4O1xuICAgICAgbWluLXdpZHRoOiAyMDBweDtcblxuICAgICAgcHJlIHtcbiAgICAgICAgbWFyZ2luOiAwO1xuICAgICAgICBib3JkZXI6IG5vbmU7XG4gICAgICB9XG5cbiAgICAgIHN2ZyB7XG4gICAgICAgIG1heC13aWR0aDogbm9uZTtcbiAgICAgICAgaGVpZ2h0OiBhdXRvO1xuICAgICAgfVxuICAgIH1cblxuICAgICYgPiAubWVybWFpZC1jb250cm9scyB7XG4gICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICBib3R0b206IDIwcHg7XG4gICAgICByaWdodDogMjBweDtcbiAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICBnYXA6IDhweDtcbiAgICAgIHBhZGRpbmc6IDhweDtcbiAgICAgIGJhY2tncm91bmQ6IHZhcigtLWxpZ2h0KTtcbiAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWxpZ2h0Z3JheSk7XG4gICAgICBib3JkZXItcmFkaXVzOiA2cHg7XG4gICAgICBib3gtc2hhZG93OiAwIDJweCA0cHggcmdiYSgwLCAwLCAwLCAwLjEpO1xuICAgICAgei1pbmRleDogMjtcblxuICAgICAgLm1lcm1haWQtY29udHJvbC1idXR0b24ge1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICAgICAgd2lkdGg6IDMycHg7XG4gICAgICAgIGhlaWdodDogMzJweDtcbiAgICAgICAgcGFkZGluZzogMDtcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tbGlnaHRncmF5KTtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tbGlnaHQpO1xuICAgICAgICBjb2xvcjogdmFyKC0tZGFyayk7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgICBmb250LXNpemU6IDE2cHg7XG4gICAgICAgIGZvbnQtZmFtaWx5OiB2YXIoLS1ib2R5Rm9udCk7XG4gICAgICAgIHRyYW5zaXRpb246IGFsbCAwLjJzIGVhc2U7XG5cbiAgICAgICAgJjpob3ZlciB7XG4gICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tbGlnaHRncmF5KTtcbiAgICAgICAgfVxuXG4gICAgICAgICY6YWN0aXZlIHtcbiAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMXB4KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFN0eWxlIHRoZSByZXNldCBidXR0b24gZGlmZmVyZW50bHlcbiAgICAgICAgJjpudGgtY2hpbGQoMikge1xuICAgICAgICAgIHdpZHRoOiBhdXRvO1xuICAgICAgICAgIHBhZGRpbmc6IDAgMTJweDtcbiAgICAgICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbiJdfQ== */</style><link href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css" rel="stylesheet" type="text/css" spa-preserve/><script src="../../../prescript.js" type="application/javascript" spa-preserve></script><script type="application/javascript" spa-preserve>const fetchData = fetch("../../../static/contentIndex.json").then(data => data.json())</script><link rel="alternate" type="application/rss+xml" title="RSS Feed" href="https://quartz.jzhao.xyz/index.xml"/><meta property="og:image:width" content="1200"/><meta property="og:image:height" content="630"/><meta property="og:image" content="https://quartz.jzhao.xyz/UNI/ANNO-2/RETI/RETI-LEZ.10-og-image.webp"/><meta property="og:image:url" content="https://quartz.jzhao.xyz/UNI/ANNO-2/RETI/RETI-LEZ.10-og-image.webp"/><meta name="twitter:image" content="https://quartz.jzhao.xyz/UNI/ANNO-2/RETI/RETI-LEZ.10-og-image.webp"/><meta property="og:image:type" content="image/.webp"/></head><body data-slug="UNI/ANNO-2/RETI/RETI-LEZ.10"><div id="quartz-root" class="page"><div id="quartz-body"><div class="left sidebar"><h2 class="page-title"><a href="../../..">Quartz 4</a></h2><div class="spacer mobile-only"></div><div class="flex-component" style="flex-direction: row; flex-wrap: nowrap; gap: 1rem;"><div style="flex-grow: 1; flex-shrink: 1; flex-basis: auto; order: 0; align-self: center; justify-self: center;"><div class="search"><button class="search-button"><svg role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19.9 19.7"><title>Search</title><g class="search-path" fill="none"><path stroke-linecap="square" d="M18.5 18.3l-5.4-5.4"></path><circle cx="8" cy="8" r="7"></circle></g></svg><p>Search</p></button><div class="search-container"><div class="search-space"><input autocomplete="off" class="search-bar" name="search" type="text" aria-label="Search for something" placeholder="Search for something"/><div class="search-layout" data-preview="true"></div></div></div></div></div><div style="flex-grow: 0; flex-shrink: 1; flex-basis: auto; order: 0; align-self: center; justify-self: center;"><button class="darkmode"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" class="dayIcon" x="0px" y="0px" viewBox="0 0 35 35" style="enable-background:new 0 0 35 35" xml:space="preserve" aria-label="Dark mode"><title>Dark mode</title><path d="M6,17.5C6,16.672,5.328,16,4.5,16h-3C0.672,16,0,16.672,0,17.5    S0.672,19,1.5,19h3C5.328,19,6,18.328,6,17.5z M7.5,26c-0.414,0-0.789,0.168-1.061,0.439l-2,2C4.168,28.711,4,29.086,4,29.5    C4,30.328,4.671,31,5.5,31c0.414,0,0.789-0.168,1.06-0.44l2-2C8.832,28.289,9,27.914,9,27.5C9,26.672,8.329,26,7.5,26z M17.5,6    C18.329,6,19,5.328,19,4.5v-3C19,0.672,18.329,0,17.5,0S16,0.672,16,1.5v3C16,5.328,16.671,6,17.5,6z M27.5,9    c0.414,0,0.789-0.168,1.06-0.439l2-2C30.832,6.289,31,5.914,31,5.5C31,4.672,30.329,4,29.5,4c-0.414,0-0.789,0.168-1.061,0.44    l-2,2C26.168,6.711,26,7.086,26,7.5C26,8.328,26.671,9,27.5,9z M6.439,8.561C6.711,8.832,7.086,9,7.5,9C8.328,9,9,8.328,9,7.5    c0-0.414-0.168-0.789-0.439-1.061l-2-2C6.289,4.168,5.914,4,5.5,4C4.672,4,4,4.672,4,5.5c0,0.414,0.168,0.789,0.439,1.06    L6.439,8.561z M33.5,16h-3c-0.828,0-1.5,0.672-1.5,1.5s0.672,1.5,1.5,1.5h3c0.828,0,1.5-0.672,1.5-1.5S34.328,16,33.5,16z     M28.561,26.439C28.289,26.168,27.914,26,27.5,26c-0.828,0-1.5,0.672-1.5,1.5c0,0.414,0.168,0.789,0.439,1.06l2,2    C28.711,30.832,29.086,31,29.5,31c0.828,0,1.5-0.672,1.5-1.5c0-0.414-0.168-0.789-0.439-1.061L28.561,26.439z M17.5,29    c-0.829,0-1.5,0.672-1.5,1.5v3c0,0.828,0.671,1.5,1.5,1.5s1.5-0.672,1.5-1.5v-3C19,29.672,18.329,29,17.5,29z M17.5,7    C11.71,7,7,11.71,7,17.5S11.71,28,17.5,28S28,23.29,28,17.5S23.29,7,17.5,7z M17.5,25c-4.136,0-7.5-3.364-7.5-7.5    c0-4.136,3.364-7.5,7.5-7.5c4.136,0,7.5,3.364,7.5,7.5C25,21.636,21.636,25,17.5,25z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" class="nightIcon" x="0px" y="0px" viewBox="0 0 100 100" style="enable-background:new 0 0 100 100" xml:space="preserve" aria-label="Light mode"><title>Light mode</title><path d="M96.76,66.458c-0.853-0.852-2.15-1.064-3.23-0.534c-6.063,2.991-12.858,4.571-19.655,4.571  C62.022,70.495,50.88,65.88,42.5,57.5C29.043,44.043,25.658,23.536,34.076,6.47c0.532-1.08,0.318-2.379-0.534-3.23  c-0.851-0.852-2.15-1.064-3.23-0.534c-4.918,2.427-9.375,5.619-13.246,9.491c-9.447,9.447-14.65,22.008-14.65,35.369  c0,13.36,5.203,25.921,14.65,35.368s22.008,14.65,35.368,14.65c13.361,0,25.921-5.203,35.369-14.65  c3.872-3.871,7.064-8.328,9.491-13.246C97.826,68.608,97.611,67.309,96.76,66.458z"></path></svg></button></div><div style="flex-grow: 0; flex-shrink: 1; flex-basis: auto; order: 0; align-self: center; justify-self: center;"><button class="readermode"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" class="readerIcon" fill="currentColor" stroke="currentColor" stroke-width="0.2" stroke-linecap="round" stroke-linejoin="round" width="64px" height="64px" viewBox="0 0 24 24" aria-label="Reader mode"><title>Reader mode</title><g transform="translate(-1.8, -1.8) scale(1.15, 1.2)"><path d="M8.9891247,2.5 C10.1384702,2.5 11.2209868,2.96705384 12.0049645,3.76669482 C12.7883914,2.96705384 13.8709081,2.5 15.0202536,2.5 L18.7549359,2.5 C19.1691495,2.5 19.5049359,2.83578644 19.5049359,3.25 L19.5046891,4.004 L21.2546891,4.00457396 C21.6343849,4.00457396 21.9481801,4.28672784 21.9978425,4.6528034 L22.0046891,4.75457396 L22.0046891,20.25 C22.0046891,20.6296958 21.7225353,20.943491 21.3564597,20.9931534 L21.2546891,21 L2.75468914,21 C2.37499337,21 2.06119817,20.7178461 2.01153575,20.3517706 L2.00468914,20.25 L2.00468914,4.75457396 C2.00468914,4.37487819 2.28684302,4.061083 2.65291858,4.01142057 L2.75468914,4.00457396 L4.50368914,4.004 L4.50444233,3.25 C4.50444233,2.87030423 4.78659621,2.55650904 5.15267177,2.50684662 L5.25444233,2.5 L8.9891247,2.5 Z M4.50368914,5.504 L3.50468914,5.504 L3.50468914,19.5 L10.9478955,19.4998273 C10.4513189,18.9207296 9.73864328,18.5588115 8.96709342,18.5065584 L8.77307039,18.5 L5.25444233,18.5 C4.87474657,18.5 4.56095137,18.2178461 4.51128895,17.8517706 L4.50444233,17.75 L4.50368914,5.504 Z M19.5049359,17.75 C19.5049359,18.1642136 19.1691495,18.5 18.7549359,18.5 L15.2363079,18.5 C14.3910149,18.5 13.5994408,18.8724714 13.0614828,19.4998273 L20.5046891,19.5 L20.5046891,5.504 L19.5046891,5.504 L19.5049359,17.75 Z M18.0059359,3.999 L15.0202536,4 L14.8259077,4.00692283 C13.9889509,4.06666544 13.2254227,4.50975805 12.7549359,5.212 L12.7549359,17.777 L12.7782651,17.7601316 C13.4923805,17.2719483 14.3447024,17 15.2363079,17 L18.0059359,16.999 L18.0056891,4.798 L18.0033792,4.75457396 L18.0056891,4.71 L18.0059359,3.999 Z M8.9891247,4 L6.00368914,3.999 L6.00599909,4.75457396 L6.00599909,4.75457396 L6.00368914,4.783 L6.00368914,16.999 L8.77307039,17 C9.57551536,17 10.3461406,17.2202781 11.0128313,17.6202194 L11.2536891,17.776 L11.2536891,5.211 C10.8200889,4.56369974 10.1361548,4.13636104 9.37521067,4.02745763 L9.18347055,4.00692283 L8.9891247,4 Z"></path></g></svg></button></div></div><div class="explorer" data-behavior="link" data-collapsed="collapsed" data-savestate="true" data-data-fns="{&quot;order&quot;:[&quot;filter&quot;,&quot;map&quot;,&quot;sort&quot;],&quot;sortFn&quot;:&quot;(a,b)=>!a.isFolder&amp;&amp;!b.isFolder||a.isFolder&amp;&amp;b.isFolder?a.displayName.localeCompare(b.displayName,void 0,{numeric:!0,sensitivity:\&quot;base\&quot;}):!a.isFolder&amp;&amp;b.isFolder?1:-1&quot;,&quot;filterFn&quot;:&quot;node=>node.slugSegment!==\&quot;tags\&quot;&quot;,&quot;mapFn&quot;:&quot;node=>node&quot;}"><button type="button" class="explorer-toggle mobile-explorer hide-until-loaded" data-mobile="true" aria-controls="explorer-280"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide-menu"><line x1="4" x2="20" y1="12" y2="12"></line><line x1="4" x2="20" y1="6" y2="6"></line><line x1="4" x2="20" y1="18" y2="18"></line></svg></button><button type="button" class="title-button explorer-toggle desktop-explorer" data-mobile="false" aria-expanded="true"><h2>Explorer</h2><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="fold"><polyline points="6 9 12 15 18 9"></polyline></svg></button><div id="explorer-280" class="explorer-content" aria-expanded="false" role="group"><ul class="explorer-ul overflow" id="list-0"><li class="overflow-end"></li></ul></div><template id="template-file"><li><a href="#"></a></li></template><template id="template-folder"><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div><button class="folder-button"><span class="folder-title"></span></button></div></div><div class="folder-outer"><ul class="content"></ul></div></li></template></div></div><div class="center"><div class="page-header"><div class="popover-hint"><nav class="breadcrumb-container" aria-label="breadcrumbs"><div class="breadcrumb-element"><a href="../../../">Home</a><p> ❯ </p></div><div class="breadcrumb-element"><a href="../../../UNI/">UNI</a><p> ❯ </p></div><div class="breadcrumb-element"><a href="../../../UNI/ANNO-2/">ANNO 2</a><p> ❯ </p></div><div class="breadcrumb-element"><a href="../../../UNI/ANNO-2/RETI/">RETI</a><p> ❯ </p></div><div class="breadcrumb-element"><a href>RETI LEZ.10</a></div></nav><h1 class="article-title">RETI LEZ.10</h1><p show-comma="true" class="content-meta"><time datetime="2025-10-13T15:42:40.000Z">Oct 13, 2025</time><span>11 min read</span></p></div></div><article class="popover-hint"><h1 id="tcp">TCP<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#tcp" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h1>
<ul>
<li>È un protocollo di trasporto punto a punto
<ul>
<li>crea una connessione diretta (1,1) tra mittente e destinatario</li>
</ul>
</li>
<li>I dati sono trasmessi come un unico flusso di byte sicuri, i byte devono arrivare correttamente e senza perdite</li>
<li>Full duplex, ovvero connessione bidirezionale simultanea</li>
<li>MSS è un dato che rappresenta la grandezza massima di dati di un singolo segmento
<ul>
<li>escludiamo però l’intestazione</li>
</ul>
</li>
<li>Spesso gli ACK possono essere accumulati così posso confermare più segmenti con un singolo ACK</li>
<li>concetto di pipelining visto anche in rdt che applica anche
<ul>
<li>handshaking tra i due(viene stabilita una connessione sicura)</li>
<li>controllo su cose come flusso e congestione adattando le varie velocità di trasmissione e ridurre così il traffico</li>
</ul>
</li>
</ul>
<h4 id="foto-dettagliata-di-come-funziona">Foto dettagliata di come funziona<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#foto-dettagliata-di-come-funziona" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h4>
<p><img src="../../../UNI/ANNO-2/RETI/fotret/Pasted-image-20250408124622.png" width="auto" height="auto" alt/></p>
<h4 id="mss-cosa-è">MSS cosa è<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#mss-cosa-è" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h4>
<p><img src="../../../UNI/ANNO-2/RETI/fotret/Pasted-image-20250408124654.png" width="300" height="auto" alt/>
in questa immagine abbiamo un segmento TCP diviso in più strati</p>
<ul>
<li>il primo arancione è il segmento gestito dal TCP diviso tra <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.0813em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>+dati
<ul>
<li>MSS è la lunghezza solo dei dati</li>
</ul>
</li>
<li>il secondo verde è quello del protocollo IP che contiene anche quello TCP</li>
<li>poi il terzo blu è quello vero e proprio che è tutto l’insieme, i dati sono lunghi quanto una variabile MTU
<ul>
<li>c’è anche un <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> che indica un altra collezione di dati detto trailer per fare tipo controlli o cose varie
Calcoli vari</li>
</ul>
</li>
<li>ovviamente MTU deve essere >= a MSS+Hₜ+Hₙ</li>
</ul>
<blockquote class="callout tip" data-callout="tip">
<div class="callout-title">
                  <div class="callout-icon"></div>
                  <div class="callout-title-inner"><p>esempio </p></div>
                  
                </div>
<div class="callout-content">
<ul>
<li>
<p>MTU = 1500 byte</p>
</li>
<li>
<p>Hₙ = 20 B (IPv4),</p>
</li>
<li>
<p>Hₜ = 20 B (TCP)<br/>
⇒ <strong>MSS = 1460 byte</strong>
fa la formula inversa per ricavare MSS</p>
</li>
</ul>
</div>
</blockquote>
<p>Quando due dispositivi fanno handshake TCP possono anche scambiarsi il valore MSS</p>
<ul>
<li>così sanno quanto possono scambiarsi</li>
<li>per impostare un determinato valore MSS si scrive su un pacchetto TCP SYN scambiato tra i due</li>
<li>Questo permette a entrambi di <strong>adattarsi</strong> al valore più sicuro e compatibile.
Il valore MTU può variare lungo il percorso in base ai dispositivi che lo intercorrono</li>
<li>usare Path MTU Discovery ci permette di scoprire automaticamente il min MTU</li>
<li>evita frammenti o scarti di pacchetti
Se si supera la MTU</li>
<li>con ipv4 viene frammentato il pacchetto</li>
<li>ipv6 li scarta e manda un errore al mittente</li>
</ul>
<h5 id="segmento-pdu-del-tcp">Segmento PDU del TCP<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#segmento-pdu-del-tcp" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h5>
<p>possiamo vedere in questa foto qua sotto come abbiamo una Protocol Data Unit del TCP</p>
<ul>
<li>
<p>L’immagine rappresenta un vero e proprio segmento TCP, ovvero l’unità di dati del livello di trasporto, che contiene tutte le informazioni necessarie per la comunicazione tra mittente e destinatario — come porte, numeri di sequenza, ACK, flag, dati applicativi — e che viene effettivamente generato, trasmesso e memorizzato da entrambe le parti per garantire un trasferimento affidabile
<img src="../../../UNI/ANNO-2/RETI/fotret/Pasted-image-20250408130449.png" width="auto" height="auto" alt/>
descriviamo tutte le cose in modo migliore:
🔹 <strong>1. Porta origine (16 bit)</strong></p>
</li>
<li>
<p>Numero della <strong>porta TCP del mittente</strong>.</p>
</li>
<li>
<p>Serve per capire <strong>quale applicazione</strong> (es. browser, server web) ha generato i dati da inviare.</p>
</li>
</ul>
<p>🔹 <strong>2. Porta destinazione (16 bit)</strong></p>
<ul>
<li>Porta TCP <strong>del destinatario</strong>, che identifica l’applicazione che deve ricevere i dati.</li>
<li>Es: porta 80 per HTTP, 443 per HTTPS.</li>
</ul>
<p>🔹 <strong>3. Numero di sequenza (32 bit)</strong></p>
<ul>
<li>Indica il numero del <strong>primo byte</strong> inviato in questo segmento.</li>
<li>TCP lavora <strong>a livello di byte, non di pacchetti!</strong></li>
<li>Serve a <strong>ricostruire l’ordine corretto dei dati</strong>.</li>
</ul>
<p>🔹 <strong>4. Numero di acknowledgment (32 bit)</strong></p>
<ul>
<li>Campo <strong>valido solo se il flag ACK è attivo</strong>.</li>
<li>Indica <strong>il numero del prossimo byte atteso</strong>, cioè: “Ho ricevuto tutto fino a questo punto”.</li>
</ul>
<p>🔹 <strong>5. Lunghezza dell’intestazione (4 bit)</strong></p>
<ul>
<li>Specifica quanto è lunga l’intestazione TCP, in multipli di 4 byte (32 bit).</li>
<li>Serve per capire <strong>dove iniziano i dati dell’applicazione</strong>.</li>
<li>La lunghezza tipica è <strong>20 byte</strong>, se non ci sono opzioni.</li>
</ul>
<p>🔹 <strong>6. Flag TCP (6 bit principali tra vari):</strong></p>
<ul>
<li><strong>URG</strong>: ci sono dati urgenti</li>
<li><strong>ACK</strong>: acknowledgment valido</li>
<li><strong>PSH</strong>: consegna immediata all’applicazione</li>
<li><strong>RST</strong>: resetta la connessione (es. errore)</li>
<li><strong>SYN</strong>: inizio connessione (handshake)</li>
<li><strong>FIN</strong>: fine della trasmissione
🧠 RST, SYN, FIN sono usati nella <strong>gestione della connessione</strong>.</li>
</ul>
<p>🔹 <strong>7. Finestra di ricezione (16 bit)</strong></p>
<ul>
<li>Usata per il <strong>controllo di flusso</strong>: indica <strong>quanti byte</strong> il destinatario è pronto a ricevere.</li>
<li>Serve al mittente per <strong>non sovraccaricare il buffer</strong> del ricevente.</li>
</ul>
<p>🔹 <strong>8. Checksum (16 bit)</strong></p>
<ul>
<li>Calcolato su <strong>intestazione + dati</strong>.</li>
<li>Verifica <strong>l’integrità dei dati</strong> (come in UDP).</li>
<li>Se il valore non torna, il pacchetto viene considerato danneggiato e scartato.</li>
</ul>
<p>🔹 <strong>9. Puntatore ai dati urgenti (16 bit)</strong></p>
<ul>
<li>Usato solo se il flag <strong>URG</strong> è attivo.</li>
<li>Indica <strong>dove finisce</strong> la parte urgente nei dati.</li>
<li>Oggi è <strong>raramente usato</strong>.</li>
</ul>
<p>🔹 <strong>10. Opzioni TCP (lunghezza variabile)</strong></p>
<ul>
<li>Area <strong>facoltativa</strong> con estensioni utili come:
<ul>
<li><strong>MSS (Maximum Segment Size)</strong></li>
<li><strong>Timestamp</strong></li>
<li><strong>Window Scaling</strong></li>
</ul>
</li>
<li>Nelle connessioni moderne, <strong>opzioni usate frequentemente</strong> per ottimizzare le prestazioni (soprattutto in reti ad alta latenza).</li>
</ul>
<p>🔹 <strong>11. Dati dell’applicazione</strong></p>
<ul>
<li>Sono i <strong>dati veri e propri</strong> generati dall’applicazione (es. contenuto HTML, file, email…).</li>
<li>TCP li riceve dall’app tramite la <strong>socket TCP</strong>.</li>
<li>La <strong>lunghezza è variabile</strong>, in base alla MSS e allo spazio disponibile.</li>
</ul>
<h3 id="numeri-di-sequenza-e-ack-di-tcp">Numeri di sequenza e ACK di TCP<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#numeri-di-sequenza-e-ack-di-tcp" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<ul>
<li>ogni byte ha un suo numero di sequenza che è sequenziale al primo byte
<ul>
<li>se il primo byte ha numero 3000 il successivo avrà 3001 e così via</li>
<li>serve per identificarli</li>
</ul>
</li>
<li>il campo ACK number è un campo che contiene il numero del prossimo byte che deve essere ancora confermato, se invio ACK 5000 significa che ho ricevuto tutto fino a 4999 e quindi attendo che il 5000 arrivi
<ul>
<li>esiste quello selettivo che permette di non confermare in sequenza ma a pezzi</li>
</ul>
</li>
<li>non sappiamo definire esattamente cosa succede se i byte vengono inviati non in ordine
<ul>
<li>dipende dalle implementazioni
<img src="../../../UNI/ANNO-2/RETI/fotret/Pasted-image-20250408131940.png" width="400" height="auto" alt/>
in questa foto possiamo vedere come anche qui abbiamo una gestione a finestre che permette di salvare i vari numeri
Scambio tra due host evidenziando i vari Seq e ACK <span>→</span>
<img src="../../../UNI/ANNO-2/RETI/fotret/Pasted-image-20250408132024.png" width="700" height="auto" alt/></li>
</ul>
</li>
</ul>
<h2 id="round-trip-time-rtt">Round Trip Time RTT<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#round-trip-time-rtt" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li>anche qui abbiamo un valore di timeout che una volta scaduto può ad esempio reinviare un determinato byte</li>
<li>questo valore deve essere > di RTT
<ul>
<li>il tempo trascorso tra invio del segmento e l’ACK</li>
<li>il problema è che esso varia nel tempo</li>
</ul>
</li>
<li>se è troppo piccolo avrò ritrasmissioni non necessarie</li>
<li>se è troppo grande aumento la latenza</li>
</ul>
<h5 id="come-stimarlo">Come stimarlo<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#come-stimarlo" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h5>
<ul>
<li>Sample RTT è il tempo che viene misurato della trasmissione di un segmento fino alla ricezione di un ACK, senza contare ritrasmissioni</li>
<li>visto che varia abbiamo bisogno di fare una media livellata(pesata) tra più Sample RTT
<img src="../../../UNI/ANNO-2/RETI/fotret/Pasted-image-20250408132640.png" width="600" height="auto" alt/>
Tutto si può tradurre in una sommatoria dove:
<img src="../../../UNI/ANNO-2/RETI/fotret/Pasted-image-20250408132814.png" width="auto" height="auto" alt/>
<img src="../../../UNI/ANNO-2/RETI/fotret/Pasted-image-20250408132701.png" width="600" height="auto" alt/></li>
</ul>
<h4 id="calcolare-il-timeout-corretto">Calcolare il Timeout corretto<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#calcolare-il-timeout-corretto" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h4>
<p>Il <strong>timeout</strong> serve per capire <strong>quando ritrasmettere un segmento</strong> se l’ACK non arriva in tempo.
<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mord mathnormal">im</span><span class="mord mathnormal">eo</span><span class="mord mathnormal">u</span><span class="mord mathnormal">t</span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mord mathnormal">n</span><span class="mord mathnormal">t</span><span class="mord mathnormal" style="margin-right:0.02778em;">er</span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mord mathnormal">s</span><span class="mord mathnormal">t</span><span class="mord mathnormal">ima</span><span class="mord mathnormal">t</span><span class="mord mathnormal">e</span><span class="mord mathnormal">d</span><span class="mord mathnormal" style="margin-right:0.13889em;">RTT</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">4</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">De</span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mord mathnormal" style="margin-right:0.13889em;">RTT</span></span></span></span>
dove abbiamo:</p>
<ul>
<li><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mord mathnormal">s</span><span class="mord mathnormal">t</span><span class="mord mathnormal">ima</span><span class="mord mathnormal">t</span><span class="mord mathnormal">e</span><span class="mord mathnormal">d</span><span class="mord mathnormal" style="margin-right:0.13889em;">RTT</span></span></span></span>
<ul>
<li>che è il tempo stimato di Trasmissione</li>
</ul>
</li>
<li><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">De</span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mord mathnormal" style="margin-right:0.13889em;">RTT</span></span></span></span>
<ul>
<li>è un valore che ci dice quanto siamo vicini alla stima rispetto ai singoli <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mord mathnormal">am</span><span class="mord mathnormal" style="margin-right:0.01968em;">pl</span><span class="mord mathnormal">e</span><span class="mord mathnormal" style="margin-right:0.13889em;">RTT</span></span></span></span> calcolati di volta in volta</li>
<li>È moltiplicato per 4 per dare un margine maggiore al singolo <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">De</span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mord mathnormal" style="margin-right:0.13889em;">RTT</span></span></span></span>
Per trovare <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">De</span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mord mathnormal" style="margin-right:0.13889em;">RTT</span></span></span></span> andiamo ad applicare
<img src="../../../UNI/ANNO-2/RETI/fotret/Pasted-image-20250408133336.png" width="600" height="auto" alt/></li>
</ul>
</li>
</ul>
<h3 id="eventi-di-un-mittente-tcpsemplificato">Eventi di un mittente TCP(semplificato)<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#eventi-di-un-mittente-tcpsemplificato" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<ul>
<li>ricevi i dati dall’applicazione(livello superiore)</li>
<li>crea un segmento con questi dati</li>
<li>assegna un numero di sequenza dal primo byte</li>
<li>inizia a inviare i segmenti e poi</li>
<li>avvia il timer applicando un TimeoutInterval
Se il timeout scade:</li>
<li>timer scade e ACK non arrivato:
<ul>
<li>ritrasmette il segmento di byte scaduto</li>
<li>riavvia il timer</li>
<li>durata del timeout raddoppiata</li>
</ul>
</li>
<li>timer scade e ACK arrivato:</li>
<li>aggiorna il numero di sequenza dei byte inviati<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mord mathnormal">e</span><span class="mord mathnormal">n</span><span class="mord mathnormal">d</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mord mathnormal">a</span><span class="mord mathnormal">se</span><span class="mclose">)</span></span></span></span></li>
<li>riavvia il timer per il prossimo segmento in attesa</li>
</ul>
<h3 id="casi-in-cui-un-ricevente-invia-gli-ack">Casi in cui un ricevente invia gli ACK<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#casi-in-cui-un-ricevente-invia-gli-ack" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>






























<div class="table-container"><table><thead><tr><th><strong>Caso</strong></th><th><strong>Destinatario (ricevente TCP)</strong></th><th><strong>Mittente TCP</strong></th></tr></thead><tbody><tr><td>1</td><td>Riceve segmento <strong>ordinato e atteso</strong>. Tutti i dati precedenti già ricevuti.  <br/>🔹 <strong>Attende fino a 500 ms</strong> prima di inviare un ACK (ACK ritardato).</td><td>Attende ACK.  <br/>Se non arriva entro il timeout, ritrasmette. Se arriva entro 500 ms, continua normalmente. (continua comunque a inviare le cose)</td></tr><tr><td>2</td><td>Riceve <strong>altro segmento ordinato</strong> mentre il primo è in attesa di ACK.  <br/>🔹 Invia <strong>ACK cumulativo immediato</strong>.</td><td>Riceve l’ACK.  <br/>Conferma più dati, avanza la finestra e può inviare nuovi segmenti.</td></tr><tr><td>3</td><td>Riceve <strong>segmento fuori ordine</strong> (numero di sequenza superiore).  <br/>🔹 Invia <strong>ACK duplicato</strong>, ripetendo il numero del byte atteso.</td><td>Riceve ACK duplicato.  <br/>Dopo <strong>3 ACK duplicati</strong>, attiva la <strong>Fast Retransmit</strong> e ritrasmette il segmento mancante.</td></tr><tr><td>4</td><td>Riceve <strong>segmento che colma il buco</strong> (tutto o parte).  <br/>🔹 Se il segmento <strong>inizia esattamente nel punto mancante</strong>, invia <strong>ACK immediato</strong>.</td><td>Riceve ACK.  <br/>Conferma nuovi dati e riprende la trasmissione in modo ordinato.</td></tr></tbody></table></div>
<h4 id="foto-esempi">Foto esempi<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#foto-esempi" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h4>
<p><img src="../../../UNI/ANNO-2/RETI/fotret/Pasted-image-20250408135203.png" width="400" height="auto" alt/>
<img src="../../../UNI/ANNO-2/RETI/fotret/Pasted-image-20250408135212.png" width="400" height="auto" alt/>
<img src="../../../UNI/ANNO-2/RETI/fotret/Pasted-image-20250408135226.png" width="400" height="auto" alt/>
<img src="../../../UNI/ANNO-2/RETI/fotret/Pasted-image-20250408135512.png" width="400" height="auto" alt/></p>
<p>Al terzo ACK invia il segmento subito senza timeout vari</p>
<h2 id="approfondimento-sui-controlli">Approfondimento sui controlli<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#approfondimento-sui-controlli" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<h3 id="il-controllo-di-flusso">Il controllo di flusso<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#il-controllo-di-flusso" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<p>Esso serve quando il livello di rete fornisce dati più velocemente di quanti ne può assimilare il livello applicativo, riempiendo di conseguenza tutto il buffer</p>
<p><img src="../../../UNI/ANNO-2/RETI/fotret/Pasted-image-20250408135938.png" width="450" height="auto" alt/>
<img src="../../../UNI/ANNO-2/RETI/fotret/Pasted-image-20250408135957.png" width="400" height="auto" alt/>
Il destinatario riesce a controllare il mittente per ridurre quante cose deve inviare andando a definire una receive window adatta
<img src="../../../UNI/ANNO-2/RETI/fotret/Pasted-image-20250408140125.png" width="300" height="auto" alt/></p>
<h4 id="approfondimento-su-rwnd">Approfondimento su rwnd<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#approfondimento-su-rwnd" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h4>
<p>Fa parte dell’intestazione TCP e appunto serve a indicare quanti byte il destinatario può ancora ricevere esso viene calcolato da questa formula:
<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mord mathnormal">n</span><span class="mord mathnormal">d</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mord mathnormal">c</span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mord mathnormal">u</span><span class="mord mathnormal" style="margin-right:0.10764em;">ff</span><span class="mord mathnormal" style="margin-right:0.02778em;">er</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">L</span><span class="mord mathnormal">a</span><span class="mord mathnormal">s</span><span class="mord mathnormal" style="margin-right:0.05017em;">tB</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mord mathnormal">t</span><span class="mord mathnormal">e</span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mord mathnormal">c</span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mord mathnormal">d</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">L</span><span class="mord mathnormal">a</span><span class="mord mathnormal">s</span><span class="mord mathnormal" style="margin-right:0.05017em;">tB</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mord mathnormal">t</span><span class="mord mathnormal">e</span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mord mathnormal">e</span><span class="mord mathnormal">a</span><span class="mord mathnormal">d</span><span class="mclose">)</span></span></span></span></p>
<ul>
<li><strong><code>RcvBuffer</code></strong> = dimensione totale del buffer di ricezione (es. 4096 byte)</li>
<li><strong><code>LastByteRcvd</code></strong> = ultimo byte ricevuto</li>
<li><strong><code>LastByteRead</code></strong> = ultimo byte consegnato all’applicazione
<img src="../../../UNI/ANNO-2/RETI/fotret/Pasted-image-20250408141625.png" width="500" height="auto" alt/>
ovviamente abbiamo che
<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8304em;vertical-align:-0.136em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">a</span><span class="mord mathnormal">t</span><span class="mord mathnormal">i</span><span class="mord"> </span><span class="mord mathnormal">n</span><span class="mord mathnormal">o</span><span class="mord mathnormal">n</span><span class="mord"> </span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">i</span><span class="mord mathnormal">sco</span><span class="mord mathnormal">n</span><span class="mord mathnormal">t</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">a</span><span class="mord mathnormal">t</span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mord mathnormal">n</span><span class="mord mathnormal">d</span></span></span></span>
i dati non riscontrati sono quei dati inviati ma che ancora non hanno un ACK di riscontro</li>
</ul>
<h2 id="stabilire-una-connessione-tcp-con-handshake">Stabilire una connessione TCP con handshake<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#stabilire-una-connessione-tcp-con-handshake" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li>prima di scambiare i dati entrambi
<ul>
<li>accettano di stabilire una connessione</li>
<li>concordano i vari parametri come anche il rcvbuffer
<img src="../../../UNI/ANNO-2/RETI/fotret/Pasted-image-20250408141854.png" width="auto" height="auto" alt/></li>
</ul>
</li>
</ul>
<p><img src="../../../UNI/ANNO-2/RETI/fotret/Pasted-image-20250408142333.png" width="auto" height="auto" alt/></p>
<h4 id="scenari-possibili-con-handshake-a-2-vie">Scenari possibili con handshake a 2 vie<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#scenari-possibili-con-handshake-a-2-vie" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h4>
<p>in questo caso abbiamo uno scambio perfetto di informazioni
<img src="../../../UNI/ANNO-2/RETI/fotret/Pasted-image-20250408142419.png" width="auto" height="auto" alt/>
qui la la connessione viene stabilita ESTAB
ma viene inviata una doppia richiesta al server perché non viene dato abbastanza tempo per accettarla
<img src="../../../UNI/ANNO-2/RETI/fotret/Pasted-image-20250408142431.png" width="auto" height="auto" alt/>
Qui per sbaglio il client invia una nuova richiesta di connessione poiché il server non fa in tempo ad inviare l’ACK
<img src="../../../UNI/ANNO-2/RETI/fotret/Pasted-image-20250408142440.png" width="auto" height="auto" alt/></p>
<h3 id="esempio-con-3-way-handshake-che-risolve-i-problemi-sopra">Esempio con 3 way handshake che risolve i problemi sopra<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#esempio-con-3-way-handshake-che-risolve-i-problemi-sopra" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<p>In questo caso abbiamo un handshake che avviene in 3 passaggi</p>
<ul>
<li>passaggio 1:
<ul>
<li>viene inviata una sincronizzazione attraverso un Synbit e specificando un codice di sequenza del client</li>
<li>il server risponde con lo stesso Synbit che identifica la sincronizzazione e un suo numero di sequenza, inoltre l’ACK viene gestito così
<ul>
<li>ACKbit
<ul>
<li>identifica se è da prendere in considerazione o meno 1 o 0</li>
</ul>
</li>
<li>ACKnum
<ul>
<li>identifica a quale sequenza ci riferiamo</li>
</ul>
</li>
</ul>
</li>
<li>il client rimanda una conferma con ACKnum ovviamente mettendolo anche valido con ACKbit
<img src="../../../UNI/ANNO-2/RETI/fotret/Pasted-image-20250408142831.png" width="auto" height="auto" alt/></li>
</ul>
</li>
</ul>
<h3 id="bit-di-reset-in-questo-tipo-di-connessione">Bit di reset in questo tipo di connessione<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#bit-di-reset-in-questo-tipo-di-connessione" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<p>Il bit di reset RST è un flag presente nell’intestazione</p>
<ul>
<li>serve per forzare la chiusura di una connessione
<ul>
<li>usata tipo in errori critici</li>
</ul>
</li>
<li>se un host riceve una richiesta su una porta su cui nessuno è in ascolto
<ul>
<li>invierà RST=1 a quel client</li>
</ul>
</li>
<li>Se una delle due parti riceve un pacchetto sbagliato
<ul>
<li>invia RST=1</li>
</ul>
</li>
</ul>
<p>Un segmento <code>RST</code>:</p>
<ul>
<li>Rivela all’attaccante che <strong>la porta è accessibile</strong>, anche se <strong>nessun servizio</strong> è attivo</li>
<li>Quindi:
<ul>
<li>“La porta non è usata da un processo, ma <strong>non è nascosta</strong> da un firewall”</li>
</ul>
</li>
</ul>
<h3 id="fsm">FSM<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#fsm" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<p><img src="../../../UNI/ANNO-2/RETI/fotret/Pasted-image-20250408144405.png" width="700" height="auto" alt/></p>
<h3 id="attacco-di-tipo-syn-flood">Attacco di tipo SYN FLOOD<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#attacco-di-tipo-syn-flood" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<ul>
<li>ha come obiettivo quello di saturare le risorse del server mandando tantissime richieste di connessione senza però terminare le 3 fasi dell’handshake</li>
</ul>
<h5 id="-fasi-dellattacco-">🔁 <strong>Fasi dell’attacco :</strong><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#-fasi-dellattacco-" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h5>
<ol>
<li>🧑‍💻 L’aggressore invia un gran numero di segmenti TCP <strong>SYN</strong> al server, ma con <strong>indirizzi IP fasulli</strong> (spoofati).</li>
<li>🖥 Il server risponde a ognuno con un <strong>SYN-ACK</strong> e <strong>alloca risorse</strong> per la connessione (buffer, variabili…).</li>
<li>📡 La rete prova a inoltrare i SYN-ACK agli IP falsi → che <strong>non rispondono con l’ACK</strong></li>
<li>⏱ Il server rimane nello stato <strong><code>SYN_RCVD</code></strong> per un po’ (anche 60+ secondi) in attesa dell’ACK → <strong>connessioni mezze aperte</strong>.</li>
<li>💥 Ripetendo l’attacco su larga scala, il server <strong>esaurisce le risorse</strong> (memoria, connessioni, socket) → non riesce più a gestire nuove richieste legittime.</li>
</ol>
<p>🧨 Questo è un classico esempio di <strong>DoS</strong> (Denial of Service), e se fatto in parallelo da più sorgenti diventa un <strong>DDoS</strong>.</p>
<h4 id="utilizzo-di-syn-cookie-per-proteggere-i-server">Utilizzo di SYN Cookie per proteggere i server<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#utilizzo-di-syn-cookie-per-proteggere-i-server" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h4>
<ul>
<li>Vogliamo evitare che il server allochi risorse per richieste false</li>
<li>Quando arriva il SYN</li>
<li>il server non salva nessun dato della connessione
<ul>
<li>calcola un cookie con le seguenti info
<ul>
<li><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">coo</span><span class="mord mathnormal">ki</span><span class="mord mathnormal">e</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">ha</span><span class="mord mathnormal">s</span><span class="mord mathnormal">h</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mord mathnormal">src</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"> </span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mord mathnormal">d</span><span class="mord mathnormal">s</span><span class="mord mathnormal">t</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"> </span><span class="mord mathnormal">p</span><span class="mord mathnormal" style="margin-right:0.02778em;">or</span><span class="mord mathnormal">t</span><span class="mord mathnormal">src</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"> </span><span class="mord mathnormal">p</span><span class="mord mathnormal" style="margin-right:0.02778em;">or</span><span class="mord mathnormal">t</span><span class="mord mathnormal">d</span><span class="mord mathnormal">s</span><span class="mord mathnormal">t</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"> </span><span class="mord mathnormal">c</span><span class="mord mathnormal">hia</span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mord mathnormal">e</span><span class="mord text" style="color:#cc0000;"><span class="mord" style="color:#cc0000;">\ </span></span><span class="mord mathnormal">se</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">re</span><span class="mord mathnormal">t</span><span class="mord mathnormal">a</span><span class="mclose">)</span></span></span></span></li>
</ul>
</li>
<li>quest’ultimo viene messo come numero di sequenza nel SYN-ACK</li>
<li>non abbiamo ancora allocato nulla</li>
</ul>
</li>
<li>se il client è vero lui risponderà con un ACKnum che corrisponde al cookie
🔄 Può includere anche timestamp per evitare <strong>attacchi replay</strong>, ovvero ogni tot cambia la chiave che consente la generazione dei cookie</li>
</ul>
<h2 id="chiudere-una-connessione-tcp">Chiudere una connessione TCP<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#chiudere-una-connessione-tcp" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<p>Usano entrambi il segmento TCP con il flag FIN impostato a 1
ognuno di loro deve farlo e si può rispondere con un ACK combinato al FIN</p>
<ul>
<li>lo fa quando una delle due parti vuole sia confermare che l’altro ha chiuso ma anche che lui sta chiudendo quindi fa <code>ACK+FIN</code></li>
</ul>
<ol>
<li><strong>A</strong> manda: <code>FIN</code></li>
<li><strong>B</strong> riceve e risponde con: <code>ACK + FIN</code></li>
<li><strong>A</strong> riceve e risponde con: <code>ACK</code></li>
</ol>
<p><img src="../../../UNI/ANNO-2/RETI/fotret/Pasted-image-20250408145137.png" width="auto" height="auto" alt/>
in questa foto non li manda insieme ma fa due cose a sè</p></article><hr/><div class="page-footer"></div></div><div class="right sidebar"><div class="graph"><h3>Graph View</h3><div class="graph-outer"><div class="graph-container" data-cfg="{&quot;drag&quot;:true,&quot;zoom&quot;:true,&quot;depth&quot;:1,&quot;scale&quot;:1.1,&quot;repelForce&quot;:0.5,&quot;centerForce&quot;:0.3,&quot;linkDistance&quot;:30,&quot;fontSize&quot;:0.6,&quot;opacityScale&quot;:1,&quot;showTags&quot;:true,&quot;removeTags&quot;:[],&quot;focusOnHover&quot;:false,&quot;enableRadial&quot;:false}"></div><button class="global-graph-icon" aria-label="Global Graph"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 55 55" fill="currentColor" xml:space="preserve"><path d="M49,0c-3.309,0-6,2.691-6,6c0,1.035,0.263,2.009,0.726,2.86l-9.829,9.829C32.542,17.634,30.846,17,29,17
                s-3.542,0.634-4.898,1.688l-7.669-7.669C16.785,10.424,17,9.74,17,9c0-2.206-1.794-4-4-4S9,6.794,9,9s1.794,4,4,4
                c0.74,0,1.424-0.215,2.019-0.567l7.669,7.669C21.634,21.458,21,23.154,21,25s0.634,3.542,1.688,4.897L10.024,42.562
                C8.958,41.595,7.549,41,6,41c-3.309,0-6,2.691-6,6s2.691,6,6,6s6-2.691,6-6c0-1.035-0.263-2.009-0.726-2.86l12.829-12.829
                c1.106,0.86,2.44,1.436,3.898,1.619v10.16c-2.833,0.478-5,2.942-5,5.91c0,3.309,2.691,6,6,6s6-2.691,6-6c0-2.967-2.167-5.431-5-5.91
                v-10.16c1.458-0.183,2.792-0.759,3.898-1.619l7.669,7.669C41.215,39.576,41,40.26,41,41c0,2.206,1.794,4,4,4s4-1.794,4-4
                s-1.794-4-4-4c-0.74,0-1.424,0.215-2.019,0.567l-7.669-7.669C36.366,28.542,37,26.846,37,25s-0.634-3.542-1.688-4.897l9.665-9.665
                C46.042,11.405,47.451,12,49,12c3.309,0,6-2.691,6-6S52.309,0,49,0z M11,9c0-1.103,0.897-2,2-2s2,0.897,2,2s-0.897,2-2,2
                S11,10.103,11,9z M6,51c-2.206,0-4-1.794-4-4s1.794-4,4-4s4,1.794,4,4S8.206,51,6,51z M33,49c0,2.206-1.794,4-4,4s-4-1.794-4-4
                s1.794-4,4-4S33,46.794,33,49z M29,31c-3.309,0-6-2.691-6-6s2.691-6,6-6s6,2.691,6,6S32.309,31,29,31z M47,41c0,1.103-0.897,2-2,2
                s-2-0.897-2-2s0.897-2,2-2S47,39.897,47,41z M49,10c-2.206,0-4-1.794-4-4s1.794-4,4-4s4,1.794,4,4S51.206,10,49,10z"></path></svg></button></div><div class="global-graph-outer"><div class="global-graph-container" data-cfg="{&quot;drag&quot;:true,&quot;zoom&quot;:true,&quot;depth&quot;:-1,&quot;scale&quot;:0.9,&quot;repelForce&quot;:0.5,&quot;centerForce&quot;:0.2,&quot;linkDistance&quot;:30,&quot;fontSize&quot;:0.6,&quot;opacityScale&quot;:1,&quot;showTags&quot;:true,&quot;removeTags&quot;:[],&quot;focusOnHover&quot;:true,&quot;enableRadial&quot;:true}"></div></div></div><div class="toc desktop-only"><button type="button" class="toc-header" aria-controls="toc-167" aria-expanded="true"><h3>Table of Contents</h3><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="fold"><polyline points="6 9 12 15 18 9"></polyline></svg></button><ul id="list-1" class="toc-content overflow"><li class="depth-0"><a href="#tcp" data-for="tcp">TCP</a></li><li class="depth-2"><a href="#numeri-di-sequenza-e-ack-di-tcp" data-for="numeri-di-sequenza-e-ack-di-tcp">Numeri di sequenza e ACK di TCP</a></li><li class="depth-1"><a href="#round-trip-time-rtt" data-for="round-trip-time-rtt">Round Trip Time RTT</a></li><li class="depth-2"><a href="#eventi-di-un-mittente-tcpsemplificato" data-for="eventi-di-un-mittente-tcpsemplificato">Eventi di un mittente TCP(semplificato)</a></li><li class="depth-2"><a href="#casi-in-cui-un-ricevente-invia-gli-ack" data-for="casi-in-cui-un-ricevente-invia-gli-ack">Casi in cui un ricevente invia gli ACK</a></li><li class="depth-1"><a href="#approfondimento-sui-controlli" data-for="approfondimento-sui-controlli">Approfondimento sui controlli</a></li><li class="depth-2"><a href="#il-controllo-di-flusso" data-for="il-controllo-di-flusso">Il controllo di flusso</a></li><li class="depth-1"><a href="#stabilire-una-connessione-tcp-con-handshake" data-for="stabilire-una-connessione-tcp-con-handshake">Stabilire una connessione TCP con handshake</a></li><li class="depth-2"><a href="#esempio-con-3-way-handshake-che-risolve-i-problemi-sopra" data-for="esempio-con-3-way-handshake-che-risolve-i-problemi-sopra">Esempio con 3 way handshake che risolve i problemi sopra</a></li><li class="depth-2"><a href="#bit-di-reset-in-questo-tipo-di-connessione" data-for="bit-di-reset-in-questo-tipo-di-connessione">Bit di reset in questo tipo di connessione</a></li><li class="depth-2"><a href="#fsm" data-for="fsm">FSM</a></li><li class="depth-2"><a href="#attacco-di-tipo-syn-flood" data-for="attacco-di-tipo-syn-flood">Attacco di tipo SYN FLOOD</a></li><li class="depth-1"><a href="#chiudere-una-connessione-tcp" data-for="chiudere-una-connessione-tcp">Chiudere una connessione TCP</a></li><li class="overflow-end"></li></ul></div><div class="backlinks"><h3>Backlinks</h3><ul id="list-2" class="overflow"><li><a href="../../../UNI/ANNO-2/RETI/INDICE-RETI" class="internal">INDICE RETI</a></li><li class="overflow-end"></li></ul></div></div><footer class><p>Created with <a href="https://quartz.jzhao.xyz/">Quartz v4.5.2</a> © 2025</p><ul><li><a href="https://github.com/jackyzha0/quartz">GitHub</a></li><li><a href="https://discord.gg/cRFFHYye7t">Discord Community</a></li></ul></footer></div></div></body><script type="application/javascript">function n(){let t=this.parentElement;t.classList.toggle("is-collapsed");let e=t.getElementsByClassName("callout-content")[0];if(!e)return;let l=t.classList.contains("is-collapsed");e.style.gridTemplateRows=l?"0fr":"1fr"}function c(){let t=document.getElementsByClassName("callout is-collapsible");for(let e of t){let l=e.getElementsByClassName("callout-title")[0],s=e.getElementsByClassName("callout-content")[0];if(!l||!s)continue;l.addEventListener("click",n),window.addCleanup(()=>l.removeEventListener("click",n));let o=e.classList.contains("is-collapsed");s.style.gridTemplateRows=o?"0fr":"1fr"}}document.addEventListener("nav",c);
</script><script type="module">function f(i,e){if(!i)return;function r(o){o.target===this&&(o.preventDefault(),o.stopPropagation(),e())}function t(o){o.key.startsWith("Esc")&&(o.preventDefault(),e())}i?.addEventListener("click",r),window.addCleanup(()=>i?.removeEventListener("click",r)),document.addEventListener("keydown",t),window.addCleanup(()=>document.removeEventListener("keydown",t))}function y(i){for(;i.firstChild;)i.removeChild(i.firstChild)}var h=class{constructor(e,r){this.container=e;this.content=r;this.setupEventListeners(),this.setupNavigationControls(),this.resetTransform()}isDragging=!1;startPan={x:0,y:0};currentPan={x:0,y:0};scale=1;MIN_SCALE=.5;MAX_SCALE=3;cleanups=[];setupEventListeners(){let e=this.onMouseDown.bind(this),r=this.onMouseMove.bind(this),t=this.onMouseUp.bind(this),o=this.resetTransform.bind(this);this.container.addEventListener("mousedown",e),document.addEventListener("mousemove",r),document.addEventListener("mouseup",t),window.addEventListener("resize",o),this.cleanups.push(()=>this.container.removeEventListener("mousedown",e),()=>document.removeEventListener("mousemove",r),()=>document.removeEventListener("mouseup",t),()=>window.removeEventListener("resize",o))}cleanup(){for(let e of this.cleanups)e()}setupNavigationControls(){let e=document.createElement("div");e.className="mermaid-controls";let r=this.createButton("+",()=>this.zoom(.1)),t=this.createButton("-",()=>this.zoom(-.1)),o=this.createButton("Reset",()=>this.resetTransform());e.appendChild(t),e.appendChild(o),e.appendChild(r),this.container.appendChild(e)}createButton(e,r){let t=document.createElement("button");return t.textContent=e,t.className="mermaid-control-button",t.addEventListener("click",r),window.addCleanup(()=>t.removeEventListener("click",r)),t}onMouseDown(e){e.button===0&&(this.isDragging=!0,this.startPan={x:e.clientX-this.currentPan.x,y:e.clientY-this.currentPan.y},this.container.style.cursor="grabbing")}onMouseMove(e){this.isDragging&&(e.preventDefault(),this.currentPan={x:e.clientX-this.startPan.x,y:e.clientY-this.startPan.y},this.updateTransform())}onMouseUp(){this.isDragging=!1,this.container.style.cursor="grab"}zoom(e){let r=Math.min(Math.max(this.scale+e,this.MIN_SCALE),this.MAX_SCALE),t=this.content.getBoundingClientRect(),o=t.width/2,n=t.height/2,c=r-this.scale;this.currentPan.x-=o*c,this.currentPan.y-=n*c,this.scale=r,this.updateTransform()}updateTransform(){this.content.style.transform=`translate(${this.currentPan.x}px, ${this.currentPan.y}px) scale(${this.scale})`}resetTransform(){this.scale=1;let e=this.content.querySelector("svg");this.currentPan={x:e.getBoundingClientRect().width/2,y:e.getBoundingClientRect().height/2},this.updateTransform()}},C=["--secondary","--tertiary","--gray","--light","--lightgray","--highlight","--dark","--darkgray","--codeFont"],E;document.addEventListener("nav",async()=>{let e=document.querySelector(".center").querySelectorAll("code.mermaid");if(e.length===0)return;E||=await import("https://cdnjs.cloudflare.com/ajax/libs/mermaid/11.4.0/mermaid.esm.min.mjs");let r=E.default,t=new WeakMap;for(let n of e)t.set(n,n.innerText);async function o(){for(let s of e){s.removeAttribute("data-processed");let a=t.get(s);a&&(s.innerHTML=a)}let n=C.reduce((s,a)=>(s[a]=window.getComputedStyle(document.documentElement).getPropertyValue(a),s),{}),c=document.documentElement.getAttribute("saved-theme")==="dark";r.initialize({startOnLoad:!1,securityLevel:"loose",theme:c?"dark":"base",themeVariables:{fontFamily:n["--codeFont"],primaryColor:n["--light"],primaryTextColor:n["--darkgray"],primaryBorderColor:n["--tertiary"],lineColor:n["--darkgray"],secondaryColor:n["--secondary"],tertiaryColor:n["--tertiary"],clusterBkg:n["--light"],edgeLabelBackground:n["--highlight"]}}),await r.run({nodes:e})}await o(),document.addEventListener("themechange",o),window.addCleanup(()=>document.removeEventListener("themechange",o));for(let n=0;n<e.length;n++){let v=function(){let g=l.querySelector("#mermaid-space"),m=l.querySelector(".mermaid-content");if(!m)return;y(m);let w=c.querySelector("svg").cloneNode(!0);m.appendChild(w),l.classList.add("active"),g.style.cursor="grab",u=new h(g,m)},M=function(){l.classList.remove("active"),u?.cleanup(),u=null},c=e[n],s=c.parentElement,a=s.querySelector(".clipboard-button"),d=s.querySelector(".expand-button"),p=window.getComputedStyle(a),L=a.offsetWidth+parseFloat(p.marginLeft||"0")+parseFloat(p.marginRight||"0");d.style.right=`calc(${L}px + 0.3rem)`,s.prepend(d);let l=s.querySelector("#mermaid-container");if(!l)return;let u=null;d.addEventListener("click",v),f(l,M),window.addCleanup(()=>{u?.cleanup(),d.removeEventListener("click",v)})}});
</script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/copy-tex.min.js" type="application/javascript"></script><script src="../../../postscript.js" type="module"></script></html>